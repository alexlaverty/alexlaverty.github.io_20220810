<!DOCTYPE html><html lang="en" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Generating a Gramps Website with Github Actions Workflow" /><meta name="author" content="Alex Laverty" /><meta property="og:locale" content="en" /><meta name="description" content="Introduction Download and install Gramps Add Your Family Members to Gramps Export Gramps Family Tree as a GEDCOM file Generate Gramps Narrated Website Locally Encrypt GEDCOM file Create a Github Pages Website Set the ZIP Password as a Repository Secret Create Github Action Workflow YML Config Docker Image with Gramps Depenencies Installed Viewing the Github Actions Workflow Build Status Browsing Your Generated Gramps Website Other Options When Generating Gramps Website Updating Your Gramps Website" /><meta property="og:description" content="Introduction Download and install Gramps Add Your Family Members to Gramps Export Gramps Family Tree as a GEDCOM file Generate Gramps Narrated Website Locally Encrypt GEDCOM file Create a Github Pages Website Set the ZIP Password as a Repository Secret Create Github Action Workflow YML Config Docker Image with Gramps Depenencies Installed Viewing the Github Actions Workflow Build Status Browsing Your Generated Gramps Website Other Options When Generating Gramps Website Updating Your Gramps Website" /><link rel="canonical" href="https://alexlaverty.github.io/gramps-github-actions/" /><meta property="og:url" content="https://alexlaverty.github.io/gramps-github-actions/" /><meta property="og:site_name" content="Alex Laverty" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-12-12T14:33:00+11:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Generating a Gramps Website with Github Actions Workflow" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Alex Laverty" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Alex Laverty"},"dateModified":"2021-12-12T14:33:00+11:00","datePublished":"2021-12-12T14:33:00+11:00","description":"Introduction Download and install Gramps Add Your Family Members to Gramps Export Gramps Family Tree as a GEDCOM file Generate Gramps Narrated Website Locally Encrypt GEDCOM file Create a Github Pages Website Set the ZIP Password as a Repository Secret Create Github Action Workflow YML Config Docker Image with Gramps Depenencies Installed Viewing the Github Actions Workflow Build Status Browsing Your Generated Gramps Website Other Options When Generating Gramps Website Updating Your Gramps Website","headline":"Generating a Gramps Website with Github Actions Workflow","mainEntityOfPage":{"@type":"WebPage","@id":"https://alexlaverty.github.io/gramps-github-actions/"},"url":"https://alexlaverty.github.io/gramps-github-actions/"}</script><title>Generating a Gramps Website with Github Actions Workflow | Alex Laverty</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Alex Laverty"><meta name="application-name" content="Alex Laverty"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/alex-laverty.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Alex Laverty</a></div><div class="site-subtitle font-italic"></div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/gallery/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>GALLERY</span> </a><li class="nav-item"> <a href="/laverty-family-history/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>LAVERTY FAMILY HISTORY</span> </a><li class="nav-item"> <a href="/laverty-tree/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>LAVERTY FAMILY TREE</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/alexlaverty" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['alaverty','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Generating a Gramps Website with Github Actions Workflow</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Generating a Gramps Website with Github Actions Workflow</h1><div class="post-meta text-muted"><div class="post-meta"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/gramps/'>Gramps</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/gramps/" class="post-tag no-text-decoration" >gramps</a> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a></div><div> By <em> <a href="https://alexlaverty.github.io">Alex Laverty</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" date="2021-12-12 14:33:00 +1100" data-toggle="tooltip" data-placement="bottom" title="Sun, Dec 12, 2021, 2:33 PM +1100" >Dec 12, 2021</em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2270 words"> <em>12 min</em> read</span></div></div></div><div class="post-content"><ul><li><a href="#introduction">Introduction</a><li><a href="#download-and-install-gramps">Download and install Gramps</a><li><a href="#add-your-family-members-to-gramps">Add Your Family Members to Gramps</a><li><a href="#export-gramps-family-tree-as-a-gedcom-file">Export Gramps Family Tree as a GEDCOM file</a><li><a href="#generate-gramps-narrated-website-locally">Generate Gramps Narrated Website Locally</a><li><a href="#encrypt-gedcom-file">Encrypt GEDCOM file</a><li><a href="#create-a-github-pages-website">Create a Github Pages Website</a><li><a href="#set-the-zip-password-as-a-repository-secret">Set the ZIP Password as a Repository Secret</a><li><a href="#create-github-action-workflow-yml-config">Create Github Action Workflow YML Config</a><li><a href="#docker-image-with-gramps-depenencies-installed">Docker Image with Gramps Depenencies Installed</a><li><a href="#viewing-the-github-actions-workflow-build-status">Viewing the Github Actions Workflow Build Status</a><li><a href="#browsing-your-generated-gramps-website">Browsing Your Generated Gramps Website</a><li><a href="#other-options-when-generating-gramps-website">Other Options When Generating Gramps Website</a><li><a href="#updating-your-gramps-website">Updating Your Gramps Website</a></ul><h2 id="introduction">Introduction<a href="#introduction"><i class="fas fa-hashtag"></i></a></h2></h2><p>I have recently been looking into my genealogy and wanted to put together a family tree and see how far back I could go. I came across the opensource genealogy software called <a href="https://gramps-project.org/">Gramps</a>, Gramps provides a GUI to be able to add in your Family members and the ability to output reports, charts, and also compile what they call a <a href="https://gramps-project.org/wiki/index.php/Howto:_Make_a_genealogy_website_with_Gramps">Narrated Website</a> for you to browse your family tree.</p><p><a href="https://pages.github.com/">Github Pages</a> allows you to host a static website free of charge, and <a href="https://docs.github.com/en/actions">Github Actions</a> provides you with a build system to be able to build/compile your github project based on a Schedule or via pushing commits to the repo.</p><p>I combined Gramps with Github Pages and Github Actions to put together an automated CICD pipeline to build and host my Family Tree Gramps website.</p><h2 id="download-and-install-gramps">Download and install Gramps<a href="#download-and-install-gramps"><i class="fas fa-hashtag"></i></a></h2></h2><p>Download Gramps here <a href="https://gramps-project.org/blog/download/">Gramps Download</a></p><h2 id="add-your-family-members-to-gramps">Add Your Family Members to Gramps<a href="#add-your-family-members-to-gramps"><i class="fas fa-hashtag"></i></a></h2></h2><p>How to create a family tree is out of scope for this document so I will refer you to the <a href="https://gramps-project.org/wiki/index.php/Gramps_5.1_Wiki_Manual_-_Getting_started">Gramps - Getting Started Guide</a></p><h2 id="export-gramps-family-tree-as-a-gedcom-file">Export Gramps Family Tree as a GEDCOM file<a href="#export-gramps-family-tree-as-a-gedcom-file"><i class="fas fa-hashtag"></i></a></h2></h2><p>Once you have all your family members added into gramps and are ready to generate the website, export the family tree as a GEDCOM file :</p><p><img data-proofer-ignore data-src="/assets/img/gramps-github-actions/2021-10-10-16-15-07.png" alt="" /></p><p><img data-proofer-ignore data-src="/assets/img/gramps-github-actions/2021-10-10-16-18-35.png" alt="" /></p><h2 id="generate-gramps-narrated-website-locally">Generate Gramps Narrated Website Locally<a href="#generate-gramps-narrated-website-locally"><i class="fas fa-hashtag"></i></a></h2></h2><p>To test your GEDCOM file locally you can run the following command :</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>gramps -i gramps.ged -a report -p name=navwebpage,incl_private=False,living_people=2,target=./
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">-i</code> should point to your gedcom file<li><p><code class="language-plaintext highlighter-rouge">-p name=navwebpage</code> specifies you want to generate the Narrated Website</p><li>For security reasons I am excluding private info from the webpage and also hiding the birthdays of living members for security reasons, do this with the following parameters :</ul><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>incl_private=False,living_people=2
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">target=./</code> means to generate the webpage in the current directory</ul><p>Once it’s finished generating you can open the index.html page and browse the site, verify you can not see birthdays of living members.</p><h2 id="encrypt-gedcom-file">Encrypt GEDCOM file<a href="#encrypt-gedcom-file"><i class="fas fa-hashtag"></i></a></h2></h2><p>A family tree contains information about living people, including birthdates and fullnames etc. This information can be used by unsavioury characters for identity fraud, as I am pushing this file up into a public github repository I have chosen to zip and encrypt the GEDCOM file with a password using 7zip :</p><p>Right click the gedcom file and select Add To Archive</p><p><img data-proofer-ignore data-src="/assets/img/gramps-github-actions/2021-10-10-16-24-39.png" alt="" /></p><p>Enter a strong password to encrypt the zip with</p><p><img data-proofer-ignore data-src="/assets/img/gramps-github-actions/2021-10-10-16-25-21.png" alt="" /></p><h2 id="create-a-github-pages-website">Create a Github Pages Website<a href="#create-a-github-pages-website"><i class="fas fa-hashtag"></i></a></h2></h2><p>Follow instructions on how to configure a Github Pages Website this will allow you to host a static html website for free on Github</p><p><a href="https://guides.github.com/features/pages/">Getting Started with GitHub Pages</a></p><p>For me I have created a github repo named <a href="https://github.com/alexlaverty/alexlaverty.github.io">alexlaverty.github.io </a> which can be browsed here <a href="https://alexlaverty.github.io/">https://alexlaverty.github.io/</a></p><h2 id="set-the-zip-password-as-a-repository-secret">Set the ZIP Password as a Repository Secret<a href="#set-the-zip-password-as-a-repository-secret"><i class="fas fa-hashtag"></i></a></h2></h2><p>During the Github build we want to decrypt the 7Zip file with our password so go into your repositories <code class="language-plaintext highlighter-rouge">Settings -&gt; Secrets -&gt; Repository Secrets</code> Create a <code class="language-plaintext highlighter-rouge">GRAMPS_ZIP_PASSWORD</code> secret and enter your zips password as the value. We will reference this secret in the build yml.</p><p><img data-proofer-ignore data-src="/assets/img/gramps-github-actions/2021-10-10-16-47-59.png" alt="" /></p><h2 id="create-github-action-workflow-yml-config">Create Github Action Workflow YML Config<a href="#create-github-action-workflow-yml-config"><i class="fas fa-hashtag"></i></a></h2></h2><p>Github Actions allows you to define build steps by creating yml build definitions in the root of the repository at <code class="language-plaintext highlighter-rouge">.github/workflows</code></p><p>Here is my github workflow yml for generating the gramps website, i have added comments to the file below</p><p><a href="https://github.com/alexlaverty/alexlaverty.github.io/blob/main/.github/workflows/genealogy.yml">https://github.com/alexlaverty/alexlaverty.github.io/blob/main/.github/workflows/genealogy.yml</a></p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre><td class="rouge-code"><pre># Give the Github Action Workflow a Name 
name: Genealogy

# Trigger the build when a file is checked into the folder paths genealogy or the github workflow is updated 
# when the checkin is to the main branch
on:
  push:
    paths:
      - 'genealogy/**'
      - '.github/workflows/genealogy.yml'
    branches:
      - main
jobs:
  build:
    # Run on a ubuntu build agent
    runs-on: ubuntu-latest

    # Run in a docker container with the required build dependencies installed 
    container: alexlaverty/alexlaverty:1.0.2

    # Run commands from within the genealogy website
    env:
      working-directory: ./genealogy
    steps:
      # Checkout the github repo
      - name: checkout repo content
        uses: actions/checkout@v2 # checkout the repository content to github runner
         
      # Decrypt the 7Zip gedcom file, 
      # do a small workaround for a bug, 
      # generate the Gramps website and then clean up the decrypted gedcom file
      - name: Generate Gramps Narrated Website
        run: |
          7z x gramps.7z -p$GRAMPS_ZIP_PASSWORD -y
          # Workaround for bug in database name in Gramps generic.py
          sed -i 's/name.txt/database.txt/g' /usr/lib/python3/dist-packages/gramps/gen/db/generic.py
          gramps -i gramps.ged -a report -p name=navwebpage,incl_private=False,living_people=2,target=./
          rm -f gramps.ged
        working-directory: $
        # The ZIP file password is stored as a github repo secret
        env:
          GRAMPS_ZIP_PASSWORD: $

      # Commit the generated files and push them up to the github repo
      - name: commit files
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add -A
          git commit -m "Genealogy Update" -a
        working-directory: $
          
      - name: push changes
        uses: ad-m/github-push-action@v0.6.0
        with:
          github_token: $
          branch: main
</pre></table></code></div></div><h2 id="docker-image-with-gramps-depenencies-installed">Docker Image with Gramps Depenencies Installed<a href="#docker-image-with-gramps-depenencies-installed"><i class="fas fa-hashtag"></i></a></h2></h2><p>The <code class="language-plaintext highlighter-rouge">alexlaverty/alexlaverty:1.0.2</code> docker image that I am referecing in the build has gramps, 7zip and git installed in it, the dockerfile is :</p><p>https://github.com/alexlaverty/alexlaverty.github.io/blob/main/Dockerfile</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>FROM ubuntu

ENV DEBIAN_FRONTEND=noninteractive

RUN apt-get update -y &amp;&amp; \
    apt-get install -y \
            python3-pip \
            p7zip-full \
            gramps \
            git
</pre></table></code></div></div><p>I plan on using that container for some other builds so will probably add in extra dependecies in there for my other projects later.</p><h2 id="viewing-the-github-actions-workflow-build-status">Viewing the Github Actions Workflow Build Status<a href="#viewing-the-github-actions-workflow-build-status"><i class="fas fa-hashtag"></i></a></h2></h2><p>Once you’ve pushed your encrypted gedcom zip into your github pages repo and have pushed your Github Actions Workflow YML config you should then be able to go see your build run and view the status and build log for it.</p><p>In your github pages repo, click <code class="language-plaintext highlighter-rouge">Actions --&gt; Genealogy</code> Then click on a build</p><p><img data-proofer-ignore data-src="/assets/img/gramps-github-actions/2021-10-10-17-02-42.png" alt="" /></p><p>From here you can see the status of each step and click each step and see the build log output</p><p><img data-proofer-ignore data-src="/assets/img/gramps-github-actions/2021-10-10-17-03-24.png" alt="" /></p><h2 id="browsing-your-generated-gramps-website">Browsing Your Generated Gramps Website<a href="#browsing-your-generated-gramps-website"><i class="fas fa-hashtag"></i></a></h2></h2><p>Once you build is successful you should be able to view your Gramps Github Pages website, for example mine is :</p><p><a href="https://alexlaverty.github.io/genealogy/">https://alexlaverty.github.io/genealogy/</a></p><h2 id="other-options-when-generating-gramps-website">Other Options When Generating Gramps Website<a href="#other-options-when-generating-gramps-website"><i class="fas fa-hashtag"></i></a></h2></h2><p>To view other available parameters you can use while generating the Gramps Narrated Website run the following commands :</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
</pre><td class="rouge-code"><pre>gramps -i gramps.ged -a report -p name=navwebpage,show=all

Performing action: report.
Using options string: name=navwebpage,show=all
   Available options:
      ancestortree      Whether to include an ancestor graph on each individual page ()
      archive           Whether to store the web pages in an archive file ()
      birthorder        Whether to display children in birth order or in entry order? ()
      caluri            Where do you place your web site ? default = /WEBCAL ()
      citationreferents Determine the default layout for the Source Page's Citation Referents section ()
      cmsuri            Where do you place your web site ? default = /NAVWEB ()
      contactimg        An image to be used as the publisher contact.
If no publisher information is given,
no contact page will be created ()
      contactnote       A note to be used as the publisher contact.
If no publisher information is given,
no contact page will be created ()
      coordinates       Whether to display latitude/longitude in the places list? ()
      create_thumbs_only        This option allows you to create only thumbnail images instead of the full-sized images on the Media Page. This will allow you to have a much smaller total upload size to your web hosting site. ()
      cright            The copyright to be used for the web files ()
      css               The stylesheet to be used for the web pages ()
      date_format       The format and language for dates, with examples ()
      dl_descr1         Give a description for this file. ()
      dl_descr2         Give a description for this file. ()
      down_fname1       File to be used for downloading of database ()
      down_fname2       File to be used for downloading of database ()
      encoding          The encoding to be used for the web files ()
      ext               The extension to be used for the web files ()
      extrapage         Your extra page path without extension ()
      extrapagename     Your extra page name like it is shown in the menubar ()
      familymappages    Whether or not to add an individual page map showing all the places on this page. This will allow you to see how your family traveled around the country. ()
      filter            Select filter to restrict people that appear on web site ()
      footernote        A note to be used as the page footer ()
      gallery           Whether to include a gallery of media objects ()
      googlemapkey      The API key used for the Google maps ()
      googleopts        Select which option that you would like to have for the Google Maps Family Map pages... ()
      graphgens         The number of generations to include in the ancestor graph ()
      headernote        A note to be used as the page header ()
      homeimg           An image to be used on the home page ()
      homenote          A note to be used on the home page ()
      inc_addressbook   Whether or not to add Address Book pages,which can include e-mail and website addresses and personal address/ residence events. ()
      inc_events        Add a complete events list and relevant pages or not ()
      inc_families      Whether or not to include family pages. ()
      inc_gendex        Whether to include a GENDEX file or not ()
      inc_id            Whether to include Gramps IDs ()
      inc_places        Whether or not to include the places Pages. ()
      inc_repository    Whether or not to include the Repository Pages. ()
      inc_sources       Whether or not to include the sources Pages. ()
      inc_stats         Whether or not to add statistics page ()
      incdownload       Whether to include a database download option ()
      incl_private      Whether to include private data ()
      introimg          An image to be used as the introduction ()
      intronote         A note to be used as the introduction ()
      linkhome          Include a link to the active person (if they have a webpage) ()
      living_people     How to handle living people ()
      mapservice        Choose your choice of map service for creating the Place Map Pages. ()
      maxinitialimageheight     This allows you to set the maximum height of the image shown on the media page. Set to 0 for no limit. ()
      maxinitialimagewidth      This allows you to set the maximum width of the image shown on the media page. ()
      name_format       Select the format to display names ()
      navigation        Choose which layout for the Navigation Menus. ()
      notes             Include narrative notes just after name, gender and age at death (default) or include them just before attributes. ()
      of                Output file name. MANDATORY (=filename)
      off               Output file format. (=format)
      papermb           Bottom paper margin (=number)
      paperml           Left paper margin (=number)
      papermr           Right paper margin (=number)
      papermt           Top paper margin (=number)
      papero            Paper orientation number. (=number)
      papers            Paper size name. (=name)
      pid               The centre person for the filter ()
      placemappages     Whether to include a place map on the Place Pages, where Latitude/ Longitude are available. ()
      prevnext          Add previous/next to the navigation bar. ()
      reference_sort    Sort the places references by date or by name. Not set means by date. ()
      relation          For each person page, show the relationship between this person and the active person. ()
      securesite        Whether to use http:// or https:// ()
      showbirth         Whether to include a birth column ()
      showdeath         Whether to include a death column ()
      showhalfsiblings  Whether to include half and/ or step-siblings with the parents and siblings ()
      showparents       Whether to include a parents column ()
      showpartner       Whether to include a partners column ()
      style             Style name. (=name)
      target            The destination directory for the web files ()
      title             The title of the web site ()
      trans             The translation to be used for the report. ()
      unused            Whether to include unused or unreferenced media objects ()
      usecal             ()
      usecms             ()
      years_past_death  Whether to restrict data on recently-dead people ()
   Use 'show=option' to see description and acceptable values
Cleaning up.
</pre></table></code></div></div><p>To view help around a specific command what the accepted values are, for example I needed to know what value to pass in for <code class="language-plaintext highlighter-rouge">show=living_people</code>, so run the command like :</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>gramps -i gramps.ged -a report -p name=navwebpage,show=living_people

Performing action: report.
Using options string: name=navwebpage,show=living_people
   Available values are:
      living_people     How to handle living people ()
      99        Included, and all data
      2 Full names, but data removed
      1 Given names replaced, and data removed
      3 Complete names replaced, and data removed
      0 Not included
</pre></table></code></div></div><h2 id="updating-your-gramps-website">Updating Your Gramps Website<a href="#updating-your-gramps-website"><i class="fas fa-hashtag"></i></a></h2></h2><p>Once you have this pipeline setup and configured and successfully building and publish, all you will need to do is push an updated encrypted 7Zip file with your updated GEDCOM file. This will trigger the build to run and regenerate and publish your Gramps Narrated Website updates.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/gramps/'>Gramps</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/gramps/" class="post-tag no-text-decoration" >gramps</a> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Generating a Gramps Website with Github Actions Workflow - Alex Laverty&url=https://alexlaverty.github.io/gramps-github-actions/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Generating a Gramps Website with Github Actions Workflow - Alex Laverty&u=https://alexlaverty.github.io/gramps-github-actions/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Generating a Gramps Website with Github Actions Workflow - Alex Laverty&url=https://alexlaverty.github.io/gramps-github-actions/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recent Update</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/Colour-Correct-Underwater-Footage-With-DaVinci-Resolve/">Colour Correcting Underwater Footage With DaVinci Resolve</a><li><a href="/the-cooks-of-stuarts-point/">The Cooks of Stuarts Point</a><li><a href="/mountains-of-mourne/">Mountains of Mourne</a><li><a href="/Descendants-of-Charles-Dornan/">Descendants of Charles Dornan</a><li><a href="/denis-michael-laverty-obituary/">Denis Michael Laverty Obituary</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/reunion/">reunion</a> <a class="post-tag" href="/tags/denis-laverty/">Denis Laverty</a> <a class="post-tag" href="/tags/johann-peter-koch/">Johann Peter Koch</a> <a class="post-tag" href="/tags/john-mcgree/">John McGree</a> <a class="post-tag" href="/tags/patrick-mcgree/">Patrick McGree</a> <a class="post-tag" href="/tags/laverty/">laverty</a> <a class="post-tag" href="/tags/michael-laverty/">Michael Laverty</a> <a class="post-tag" href="/tags/nora-goldspring/">Nora Goldspring</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/elsie-pearl-mcgree/">Elsie Pearl McGree</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/deploying-gramps-on-github-pages-using-github-action-workflow/"><div class="card-body"> <em class="timeago small" date="2021-12-12 14:33:00 +1100" >Dec 12, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Deploying Gramps on Github Pages Using Github Action Workflow</h3><div class="text-muted small"><p> Introduction What are the benefits of doing this? Creating a Github Repository Enable Github Pages Git Clone Your Gramps Repo Export Your Gramps Family Tree as a GEDCOM File Create...</p></div></div></a></div><div class="card"> <a href="/rating-surf-forecast/"><div class="card-body"> <em class="timeago small" date="2021-12-12 14:33:00 +1100" >Dec 12, 2021</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Creating a Daily Surf Rating Report</h3><div class="text-muted small"><p> Introduction Choosing a Programming Language Scraping Forecast Data with BeautifulSoup Parsing the JSON Data Adding Data to Pandas Data Frame Figuring out Weird Wave and Wind Data Stru...</p></div></div></a></div><div class="card"> <a href="/Colour-Correct-Underwater-Footage-With-DaVinci-Resolve/"><div class="card-body"> <em class="timeago small" date="2022-04-25 00:00:00 +1000" >Apr 25</em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Colour Correcting Underwater Footage With DaVinci Resolve</h3><div class="text-muted small"><p> Colour Grading Underwater Footage With DaVinci Resolve A while ago I went camping with my family to Narrabeen Caravan Park, while there I took some underwater video of various sea creatures with m...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/deploying-gramps-on-github-pages-using-github-action-workflow/" class="btn btn-outline-primary" prompt="Older"><p>Deploying Gramps on Github Pages Using Github Action Workflow</p></a> <a href="/rating-surf-forecast/" class="btn btn-outline-primary" prompt="Newer"><p>Creating a Daily Surf Rating Report</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://alexlaverty.github.io/gramps-github-actions/'; this.page.identifier = '/gramps-github-actions/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://alexlaverty.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/alaverty">Alex Laverty</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/reunion/">reunion</a> <a class="post-tag" href="/tags/denis-laverty/">Denis Laverty</a> <a class="post-tag" href="/tags/johann-peter-koch/">Johann Peter Koch</a> <a class="post-tag" href="/tags/john-mcgree/">John McGree</a> <a class="post-tag" href="/tags/patrick-mcgree/">Patrick McGree</a> <a class="post-tag" href="/tags/laverty/">laverty</a> <a class="post-tag" href="/tags/michael-laverty/">Michael Laverty</a> <a class="post-tag" href="/tags/nora-goldspring/">Nora Goldspring</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/elsie-pearl-mcgree/">Elsie Pearl McGree</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
