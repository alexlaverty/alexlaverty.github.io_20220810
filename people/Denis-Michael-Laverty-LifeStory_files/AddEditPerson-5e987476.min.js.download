function loadAddEditPerson(e,d,a){"use strict";var t=d?JSON.parse(d):{},r=document.querySelector(".calloutTrigger.active")||document.activeElement,o={onOpen:function(d){r.focus();var o=document.getElementById(d.content.id),n=document.createTextNode(PersonCard.text.addPersonErrorText),i=new XMLHttpRequest;i.args=t;var l;"add"===e?(l=window.PersonCard.URL.addPersonModalUrl.replace("{{excludePids}}",t.excludePids),l=l+"&rel="+t.rel):l=window.PersonCard.URL.quickEditModalUrl.replace("{treeid}",t.tid).replace("{personid}",t.pid),i.open("GET",l,!0),i.onload=function(){if(i.status>=200&&i.status<400){var e=JSON.parse(i.responseText);if(e.errors)s.showLoading(!1),o.appendChild(n),console.warn("Add/Edit modal failed because of response errors:",e.errors);else{window.addPersonData=JSON.parse(e.data),window.addPersonData.mode.isAddModal&&(window.addPersonData.relationshipType=i.args.rel,window.addPersonData.gender=i.args.gender,window.addPersonData.history=i.args.history,window.addPersonData.spouseId=i.args.sid,a&&(window.addPersonData.apmCallback=a));var d=document.createElement("link");d.setAttribute("href",e.cssBundleUrl),d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),document.head.appendChild(d);var t=window.document.createElement("script");t.setAttribute("src",e.jsBundleUrl),t.setAttribute("type","text/javascript"),o.appendChild(t)}}else s.showLoading(!1),o.appendChild(n),console.warn("Add/Edit modal failed because of bad request:",i.status)}.bind(this),i.onerror=function(){s.showLoading(!1),o.appendChild(n),console.warn("Add/Edit modal failed because of bad url or service not responding:",l)},i.send()},open:!0,showLoading:!0,width:800},s=ui.modal('<div class="modalHasTitle" id="addPersonComponent"></div>',o)}
//# sourceMappingURL=AddEditPerson-5e987476.min.js.map