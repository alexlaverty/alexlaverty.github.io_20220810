!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ui=t():e.ui=t()}(window,function(){return i={},o.m=n=[function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=a(n(1)),s=a(n(14));function a(e){return e&&e.__esModule?e:{default:e}}n(16);var r,l={debounce:function(e,t,n){var i=2<arguments.length&&void 0!==n&&n;return(0,s.default)(e,t,{leading:i,trailing:!0,debounce:!0})},deleteCookie:function(e,t,n){var i=1<arguments.length&&void 0!==t?t:window.location.hostname.replace(/.+?\./,"."),o=2<arguments.length&&void 0!==n?n:"/";document.cookie="localhost"===i?e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path="+o:e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path="+o+"; domain="+i},error:function(e){console.error(e)},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},focusable:function(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n&&e.href||t)&&this.visible(e)},getAvatarInfo:function(e){if("string"!=typeof e)throw new Error("Invalid type: input type must be a string!");for(var t=0,n=["bgDark bgColor1","bgDark bgColor2","bgDark bgColor3","bgDark bgColor4","bgDark bgColor5","bgDark bgColor6","bgDark bgColor7","bgColor8","bgDark bgColor9","bgDark bgColor10"],i=0,o=e.length;i<o;i+=1)t=31*t+e.charCodeAt(i)&4294967295;t=Math.abs(t);var s=e.split(" "),a=1<s.length?s[0].substr(0,1).concat(s[s.length-1].substr(0,1)):s[0].substr(0,2);return{classes:n[t%n.length].split(" "),initials:a}},getCookie:function(e){for(var t=e+"=",n=document.cookie.split(";"),i=n.length,o=void 0,s=0;s<i;s++)if(0===(o=n[s].trim()).indexOf(t))return o.substring(t.length,o.length);return""},getDictionaryCookie:function(e,t){var n=this.getCookie(e);if(!n.length)return"";for(var i=n.split("&"),o=t+"=",s=i.length-1;0<=s;s--)if(-1!==i[s].indexOf(o))return i[s].substr(i[s].indexOf(o)+o.length);return""},getElementIndex:function(e,t){for(var n=1<arguments.length&&void 0!==t?t:e.parentNode.children,i=0;i<n.length;i++)if(n[i]===e)return i;return-1},getRandomNumber:function(e,t){return isNaN(e)||isNaN(t)?Date.now().toString()+Math.floor(1e3*Math.random()+1):Math.floor(Math.random()*(1+t-e)+e)},getTabbableElements:function(e){for(var t=e.querySelectorAll(this.tabbableTags),n=[],i=0;i<t.length;i++)this.tabbable(t[i])&&n.push(t[i]);return n},getUrlParameterValue:function(e,t,n){for(var i=(t?(t.split(/\?(.+)?/)[1]||"").split(/#(.+)?/)[0]:window.location.search.substring(1)).replace(/&amp;/g,"&").split("&"),o=i.length,s=e,a=0;a<o;a++){var r=i[a].split("=");if(n||(s=s.toLowerCase(),r[0]=r[0].toLowerCase()),decodeURIComponent(r[0])===s)return r[1]?decodeURIComponent(r[1]):""}},insertAfter:function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},isTouchDevice:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,isValidCallback:function(e){return e&&"function"==typeof e},keyCodes:{down:40,enter:13,esc:27,left:37,leftBracket:219,right:39,rightBracket:221,shift:16,space:32,tab:9,up:38},lang:(r=document.querySelector("[lang]"))?r.getAttribute("lang").toLowerCase():"en",log:function(e){console.log(e)},numberToLocaleString:function(t,e){try{return t.toLocaleString(this.lang,e)}catch(e){return t.toLocaleString()}},removeAttributes:function(e,t){for(var n=t.split(" "),i=0;i<n.length;i++)e.removeAttribute(n[i])},setAttributes:function(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})},setCookie:function(e,t,n,i,o){var s=2<arguments.length&&void 0!==n?n:90,a=3<arguments.length&&void 0!==i?i:window.location.hostname.replace(/.+?\./,"."),r=4<arguments.length&&void 0!==o?o:"/",l=new Date;l.setTime(l.getTime()+864e5*s);var u=e+"="+t+"; "+("expires="+l.toUTCString())+"; "+(a&&"localhost"!==a?"domain="+a+"; ":"")+(r?"path="+r+"; ":"");document.cookie=u},setDictionaryCookie:function(e,t,n,i,o,s){var a,r,l,u=e.toUpperCase(),c=t.toUpperCase(),d=this.getCookie(u);d=null==d?c+"="+n:-1===(r=(a=d.toLowerCase()).indexOf(c.toLowerCase()+"="))?(0<d.length&&(d+="&"),""+d+c+"="+n):-1===(l=a.indexOf("&",r))?0===r?c+"="+n:""+d.substring(0,r)+c+"="+n:(a=d,d="",0<r&&(d=a.substring(0,r)),""+d+c+"="+n+a.substring(l)),this.setCookie(u,d,i,o,s)},smoothScroll:function(s,e,a,t,n){var r=3<arguments.length&&void 0!==t?t:"scrollTop",l=n,u=s[r],c=e-u,d=0;!function e(){var t,n,i,o=(t=u,n=c,(i=(d+=20)/(a/2))<1?n/2*i*i+t:-n/2*(--i*(i-2)-1)+t);s[r]=o,a<=d?ui.isValidCallback(l)&&l():setTimeout(e,20)}()},tabbable:function(e){var t=e.getAttribute("tabindex"),n=isNaN(t);return(n||0<=t)&&this.focusable(e,!n)},tabbableTags:"[tabindex], a[href], button, input, object, select, textarea",throttle:s.default,timer:function(e,t){var n=void 0,i=t,o=void 0,s="stopped",a={pause:function(){"play"===s&&(clearTimeout(n),i-=new Date-o,s="pause")},stop:function(){"stopped"!==s&&(clearTimeout(n),i=t,s="stopped")},play:function(){"play"!==s&&(o=new Date,clearTimeout(n),n=setTimeout(function(){e(),i=t},i)),s="play"}};return a.play(),a},ucfirst:function(e){return""+e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},visible:function(e){var t=!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length);var n=!Array.prototype.filter.call(function(e){for(var t=e,n=[];t&&t.parentNode&&t!==t.parentNode;)n.push(t.parentNode),t=t.parentNode;return n}(e).push(e),function(e,t){return"hidden"===window.getComputedStyle(t).visibility}).length;return t&&n},warn:function(e){console.warn(e)}};t.default=i(Object.create({Base:o.default}),l),t.Base=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(3),s=(i=o)&&i.__esModule?i:{default:i};t.default=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(0),s=(i=o)&&i.__esModule?i:{default:i};t.default=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=c(n(0)),r=c(n(8)),l=c(n(4)),u=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}n(13);var d=(o(h,null,[{key:"addInstance",value:function(e){var t;e&&0!==Object.keys(e).length&&(t=e.constructor.name,h.instances[t]||(h.instances[t]={}),h.instances[t][e.id]=e)}},{key:"getInstance",value:function(e,t){if(h.instances[t])return h.instances[t][e]}},{key:"removeInstance",value:function(e){var t=h.instances[e.constructor.name];t&&t[e.id]&&delete t[e.id]}},{key:"hasOpenInstance",value:function(e){var t=h.instances[e]||{};return!!Object.keys(t).find(function(e){return t[e].isOpen})}},{key:"runMethodOnActiveInstances",value:function(i,e,t,n){var o=2<arguments.length&&void 0!==t?t:[],s=n||function(e){return e.isOpen},a=h.instances[e];a&&Object.keys(a).forEach(function(e){var t,n=a[e];s(n)&&(t=Array.isArray(o)?o:[o],n[i].apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)))})}},{key:"localize",value:function(e,t){var n=a.default.lang;return e[n]&&e[n][t]?e[n][t]:e[n.substring(0,2)]&&e[n.substring(0,2)][t]?e[n.substring(0,2)][t]:e.en[t]||""}}]),o(h,[{key:"addElement",value:function(e){var t=(this.element=e).getAttribute("data-ui-id");t?this.id=t:this.element.setAttribute("data-ui-id",this.id),this._events={}}},{key:"addEventListeners",value:function(t,n){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e],t.addEventListener(e,i[e])}),{element:t,handlers:i}}},{key:"destroy",value:function(){var t=this;h.removeInstance(this),this._events&&Object.keys(this._events).forEach(function(e){t.removeEventListeners(t._events[e])}),Object.keys(this).forEach(function(e){delete t[e]}),Object.setPrototypeOf(this,null)}},{key:"dispatchEvent",value:function(e,t,n){(2<arguments.length&&void 0!==n?n:this.element).dispatchEvent(new CustomEvent(e,i({},{bubbles:!0,cancelable:!0},t)))}},{key:"executeCallback",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{element:this.element};if(e&&a.default.isValidCallback(e))return e(n)}},{key:"removeEventListeners",value:function(n){n&&Object.keys(n.handlers).forEach(function(e){var t=n.handlers[e];n.element.removeEventListener(e,t),t&&t.isThrottled&&t.cancel()})}}]),h);function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),this.id="ui"+a.default.getRandomNumber(),e&&this.addElement(e)}d.init=r.default,d.instances={},d.getElements=l.default,d.typeCheck=u.default,t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return[];if(e instanceof window.HTMLElement)return[e];if(e instanceof window.NodeList||e instanceof window.HTMLCollection)return e;if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length){var t=document.createElement("div");return t.innerHTML=e,[t.firstChild]}return document.querySelectorAll(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(26),s=(i=o)&&i.__esModule?i:{default:i};t.default=s.default},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=d(n(2));n(17);var s=d(n(18)),a=d(n(21));n(24),n(25);var r=d(n(5));n(28),n(29),n(30),n(6),n(31),n(32);var l=d(n(33));n(36),n(37),n(38);var u=d(n(39));n(44),n(45),n(46);var c=d(n(47));function d(e){return e&&e.__esModule?e:{default:e}}t.default=i(Object.create(o.default),{alert:s.default,autocomplete:a.default,callout:r.default,modal:l.default,tabs:u.default,validator:c.default})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=i(n(0)),r=i(n(3)),l=i(n(4));function i(e){return e&&e.__esModule?e:{default:e}}var u=!1;function c(e){var t=e.name;if(t)return t.toLowerCase();var n=e.toString().match(/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^\(\s\/]*)\s*/);return e.name=n?n[1]:"",e.name.toLowerCase()}function d(e,t,n){var i;!t||(i=r.default.getInstance(t.getAttribute("data-ui-id"),e.name||c(e)))&&i.destroy();var o=new e(t,n);return r.default.addInstance(o),o}function h(o,s){function t(e,t){try{o.validateConfig&&o.validateConfig(t)}catch(e){return void a.default.error("UI Config "+e)}var n=(0,l.default)(e),i=n.length;return i<=1?0===i&&s.elementRequired?void a.default.warn("Unable to find the provided elements. Component: "+o.name+", Selector: "+e):d(o,n[0],t):function(e,t,n,i){for(var o=[],s=t.length,a=i.enforceSingleInstance&&1<s?[]:void 0,r=0;r<s;++r){var l=d(e,t[r],n);o.push(l),a&&a.push(l.id)}return i.enforceSingleInstance&&1<s?(o.forEach(function(e){e.sharedIds=a}),o[0]):o}(o,n,t,s)}return Object.getOwnPropertyNames(o).filter(function(e){return"arguments"!==e&&"caller"!==e&&"function"==typeof o[e]}).forEach(function(e){t[e]=o[e]}),t.getInstance=function(e){return r.default.getInstance(e,o.name)},t.defaults=o.defaults,t}t.default=function(e){var o=0<arguments.length&&void 0!==e?e:{};return function(e){if(window.ui){var t=c(e),n=window.ui[t],i=-1!==["alert","autocomplete","callout","modal","tabs","validator"].indexOf(t);if(n)return i&&!u?(u=!0,a.default.warn("You are including core.js multiple times")):i||a.default.warn("You are including "+t+".js multiple times"),n}return h(e,s({},{enforceSingleInstance:!1,elementRequired:!0},o))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(10),s=(i=o)&&i.__esModule?i:{default:i};t.default=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(11)),o=s(n(12));function s(e){return e&&e.__esModule?e:{default:e}}var a={boolean:function(e){return new i.default("boolean",e)},fn:function(e){return new i.default("function",e)},instanceof:function(t,e){return new i.default(t,e,function(e){return e instanceof t})},number:function(e){return new i.default("number",e)},object:function(e){return new i.default("object",e)},string:function(e){return new i.default("string",e)},_checkRequired:function(e,t,n){return!(-1!==n.indexOf(e))||Object.prototype.hasOwnProperty.call(t,e)},execute:function(e,t){var s=this,a=t.expected,n=t.actual,r=void 0===n?{}:n,i=t.required,l=void 0===i?[]:i,u=[];if(Object.keys(a).forEach(function(e){var t,n=s._checkRequired(e,r,l),i=r[e],o=void 0===i||s._execute(i,a[e]);n&&o||(t=n?"Invalid property type/value for '"+e+".'":"Required property '"+e+"' is not provided.",u.push(t))}),0<u.length)throw new o.default(e,u)},_execute:function(t,e){return e instanceof Array?e.some(function(e){return e.validate(t)}):e.validate(t)}};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=(function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}(a,[{key:"validate",value:function(e){return this._validate(e,this.expected)&&this.checkAllowed(e)}},{key:"_getType",value:function(e){return void 0===e?"undefined":i(e)}},{key:"checkAllowed",value:function(e){return 0===this.allowedValues.length||-1!==this.allowedValues.indexOf(e)}},{key:"_validate",value:function(e,t){return this._getType(e)===t}}]),a);function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.expected=e,n&&(this._validate=n),this.allowedValues=t}t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,Error),o);function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e+": One or more options were invalid. Please visit https://www.ancestry.com/cs/standards/"+e.toLowerCase()+" for documentation.\n\n"+t.join("\n")));return n.label=e,n.errors=t,n}t.default=i},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(15),s=(i=o)&&i.__esModule?i:{default:i};t.default=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,r=n(0),l=(a=r)&&a.__esModule?a:{default:a};var u=(i(c,[{key:"cancelTimer",value:function(){clearTimeout(this.timerId),this.timerId=void 0}},{key:"clearArguments",value:function(){this.lastArgs=void 0}},{key:"execute",value:function(e){var t,n=this.config,i=n.leading,o=n.trailing;i||o?(t=Date.now(),this.lastArgs=e,this.leadingEdge(t),this.lastCall=t,this.trailingEdge()):l.default.warn("You must have either a trailing or leading enabled in your throttle/debounce")}},{key:"inProgress",value:function(){return void 0!==this.timerId}},{key:"leadingEdge",value:function(e){this.shouldInvokeLeading(e)&&this.invokeCallback(e)}},{key:"reset",value:function(){this.cancelTimer(),this.clearArguments(),this.lastCall=0,this.lastInvoke=0}},{key:"shouldInvokeLeading",value:function(e){var t=this.config,n=t.leading,i=t.debounce;if(!n)return!1;var o=e-this.lastCall,s=e-this.lastInvoke,a=o>=this.delay,r=s>=this.delay||0==s;return i?a:r}},{key:"shouldInvokeTrailing",value:function(){var e=this.config,t=e.trailing,n=e.debounce;return t&&(n||!this.inProgress())}},{key:"startTimer",value:function(e){return this.config.debounce&&this.cancelTimer(),setTimeout(e.bind(this),this.delay)}},{key:"timerExpired",value:function(){this.lastCall===this.lastInvoke||(this.invokeCallback(Date.now()),this.reset())}},{key:"trailingEdge",value:function(){this.shouldInvokeTrailing()&&(this.timerId=this.startTimer(this.timerExpired))}}]),c);function c(e,t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.invokeCallback=function(e){i.lastInvoke=e,i.callback.apply(i,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i.lastArgs)),i.clearArguments()},this.callback=e,this.delay=t,this.config=o({leading:!0,trailing:!0},n),this.lastInvoke=0,this.lastCall=0}t.default=function(e,t,n){function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.execute(t)}var o=new u(e,t,n);return i.cancel=function(){return o.cancelTimer()},i.isThrottled=!0,i}},function(e,t,n){"use strict";function d(e){return"function"==typeof e||"[object Function]"===h.call(e)}function i(t){return function(){for(var e=0;e<arguments.length;)t.call(this,arguments[e++])}}var o,s,a,r,l,u,c,h,f,p,v,m,g;o=window.Element,s=window.CharacterData,a=window.DocumentType,r=window.DOMTokenList,l=window.Document,u=window.DocumentFragment,c=window.Node,String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),[o.prototype,s.prototype,a.prototype].forEach(function(e){Object.prototype.hasOwnProperty.call(e,"remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),o.prototype.closest||(o.prototype.closest=function(e){var t=(this.document||this.ownerDocument).querySelectorAll(e),n=void 0,i=this;do{for(n=t.length;0<=n&&t.item(n)!==i;)--n}while(n<0&&(i=i.parentElement));return i}),o.prototype.matches||(o.prototype.matches=o.prototype.matchesSelector||o.prototype.mozMatchesSelector||o.prototype.msMatchesSelector||o.prototype.oMatchesSelector||o.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=n&&t.item(n)!==this;)--n;return-1<n}),window.NodeList&&!window.NodeList.prototype.forEach&&(window.NodeList.prototype.forEach=function(e,t){for(var n=t||window,i=0;i<this.length;i++)e.call(n,this[i],i,this)}),window.MSInputMethodContext&&document.documentMode&&(Array.from||(Array.from=(h=Object.prototype.toString,f=Math.pow(2,53)-1,function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!d(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var o,s,a,r,l=(s=t.length,a=Number(s),r=isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a,Math.min(Math.max(r,0),f)),u=d(this)?Object(new this(l)):new Array(l),c=0;c<l;)o=t[c],u[c]=i?void 0===n?i(o,c):i.call(n,o,c):o,c+=1;return u.length=l,u})),"function"!=typeof window.CustomEvent&&((p=function(e,t){var n=1<arguments.length&&void 0!==t?t:{bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i}).prototype=window.Event.prototype,window.CustomEvent=p),v=r.prototype,(m=document.createElement("div")).classList.add("a","b"),"a b"===m.className||Object.defineProperties(v,{add:{writable:!0,configurable:!0,value:i(v.add)},remove:{writable:!0,configurable:!0,value:i(v.remove)}}),m.className="a b",m.classList.toggle("a",!0),"a b"===m.className||Object.defineProperty(v,"toggle",{writable:!0,configurable:!0,value:(g=v.toggle,function(e,t){return void 0===t?g.call(this,e):(t?this.add(e):this.remove(e),t)})}),[o.prototype,l.prototype,u.prototype].forEach(function(e){Object.prototype.hasOwnProperty.call(e,"prepend")||Object.defineProperty(e,"prepend",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var n=document.createDocumentFragment(),e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(e){var t=e instanceof c;n.appendChild(t?e:document.createTextNode(String(e)))}),this.insertBefore(n,this.firstChild)}})}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0==i)return!1;var o,s,a=0|t,r=Math.max(0<=a?a:i-Math.abs(a),0);for(;r<i;){if((o=n[r])===(s=e)||"number"==typeof o&&"number"==typeof s&&isNaN(o)&&isNaN(s))return!0;r++}return!1}}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(19),s=(i=o)&&i.__esModule?i:{default:i};t.default=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:a(o,t,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,l=n(0),u=(r=l)&&r.__esModule?r:{default:r};n(20);var Alert=function(){function Alert(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Alert);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Alert.__proto__||Object.getPrototypeOf(Alert)).call(this,e));return n.config=i({},Alert.defaults,n._getOptionsByClass(),t),n.animateDuration=410,n.isOpen=!1,n.shouldAnimate=n.config.animation,n._initType(),n._setClosableIfNeeded(),u.default.setAttributes(e,n._getAttributes()),n._initClasses(),n.marginTop=n._getAlertMargin("top"),n.marginBottom=n._getAlertMargin("bottom"),n._handleNotificationDisplay(),n.config.closable&&n._createCloseButton(),n.config.open&&n.open(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Alert,l.Base),o(Alert,null,[{key:"getNotificationContainer",value:function(){if(Alert.container)return Alert.container;var e=document.createElement("div"),t={"aria-label":l.Base.localize(Alert.langSets,"label"),id:"alertNotifications",class:"alertNotifications",role:"region"};return u.default.setAttributes(e,t),Alert.container=e}},{key:"validateConfig",value:function(e){var t=l.Base.typeCheck,n={animation:t.boolean(),closable:t.boolean(),destroyOnClose:t.boolean(),display:t.string(),duration:t.number(),location:t.string(["bottomRight","topRight"]),onClose:t.fn(),onOpen:t.fn(),onRequestClose:t.fn(),open:t.boolean(),type:t.string(["warning","info","success","error"])};t.execute(Alert.name,{expected:n,required:[],actual:e})}}]),o(Alert,[{key:"center",value:function(){var e;this.config&&"overlay"!==this.config.display||(i(this.element.style,{display:"inline-block",position:"relative",width:"auto"}),e=Math.ceil(this.element.getBoundingClientRect().width),i(this.element.style,{display:"",marginLeft:"-"+Math.floor(e/2)+"px",position:"",width:e+"px"}))}},{key:"_clearOpeningStyles",value:function(){this.element.classList.remove("alertNoTransition","alertHiding"),this.element.style.marginBottom="",this.element.style.marginTop=""}},{key:"close",value:function(e){var t,n,i,o,s,a=this,r=!(0<arguments.length&&void 0!==e)||e,l=this.element;this.isOpen&&("notification"===this.config.display&&this.savedActiveElement.focus(),l.dispatchEvent(new CustomEvent("alert-closing",{bubbles:!0,cancelable:!0})),this.config.animation?(t=l.classList.contains("alertSitewide")||null===l.previousElementSibling,n=l.classList.contains("alertContextualTop"),s=void 0,s=t?(i=window.getComputedStyle(l),o=parseInt(i.marginTop,10)||0,l.offsetHeight+o):l.offsetHeight,n?l.style.marginTop=this.marginBottom-s+"px":(l.classList.add("alertContextualBottomHiding"),l.style.marginBottom=this.marginBottom-s+"px"),l.classList.add("alertHiding"),this.animateClose=setTimeout(function(){a._closed(r)},this.animateDuration)):this._closed(r))}},{key:"_closed",value:function(e){var t=this.element;t.classList.add("alertHidden"),t.style.marginBottom="",this.durationTimer&&this.durationTimer.stop(),"notification"!==this.config.display||this.config.location||(t.remove(),this._removeNotificationContainer()),this.isOpen=!1;var n=this.config.onClose;a(Alert.prototype.__proto__||Object.getPrototypeOf(Alert.prototype),"executeCallback",this).call(this,n),t.dispatchEvent(new CustomEvent("alert-closed",{bubbles:!0,cancelable:!0})),this.config.destroyOnClose&&e&&this.destroy()}},{key:"_createCloseButton",value:function(){var e=this,t=this.element,n=document.createElement("button"),i={class:"closeBtn alertCloseBtn",type:"button","aria-label":""+l.Base.localize(Alert.langSets,"closeBtn")};u.default.setAttributes(n,i),n.addEventListener("click",function(){e.requestClose()}),t.insertAdjacentElement("afterbegin",n),this.closeBtn=n}},{key:"destroy",value:function(){this.config.animation=!1,this.isOpen&&this.close(!1),clearTimeout(this.animateClose),clearTimeout(this.timedFunc),clearTimeout(this.animateOpen),this._clearOpeningStyles(),this.durationTimer&&this.durationTimer.stop(),this.element.classList.remove("alertClosable","alertContextualBottom","alertContextualTop","alertNotification","alertOverlay","alertSection","alertSitewide"),this.closeBtn&&this.closeBtn.remove(),this.config.destroyOnClose&&this.element.remove(),a(Alert.prototype.__proto__||Object.getPrototypeOf(Alert.prototype),"destroy",this).call(this)}},{key:"_getAlertMargin",value:function(e){var t=window.getComputedStyle(this.element,null),n=parseInt(t.getPropertyValue("margin-"+e),10);return isNaN(n)?0:n}},{key:"_getAttributes",value:function(){var e=this.element,t={role:e.getAttribute("role"),tabindex:-1};return t.role||(e.matches(".alertInfo")?t.role="status":t.role="alert"),t}},{key:"_getOptionsByClass",value:function(){var e={},t=this.element;return t.classList.contains("alertNotification")?e.display="notification":t.classList.contains("alertOverlay")?e.display="overlay":t.classList.contains("alertSection")?e.display="section":t.classList.contains("alertSitewide")&&(e.display="sitewide"),e}},{key:"_setClosableIfNeeded",value:function(){"notification"!==this.config.display&&"overlay"!==this.config.display||(this.config.closable=!0)}},{key:"_handleNotificationDisplay",value:function(){var e=this;"overlay"===this.config.display&&(this.center(),this._events.resize=this.addEventListeners(window,{resize:u.default.debounce(function(){return e.center()},100),orientationchange:u.default.debounce(function(){return e.center()},100)}))}},{key:"_hasTabbableElements",value:function(){for(var e=this.element.children,t=0,n=e.length;t<n;t++){var i=e[t];if(u.default.tabbable(i)&&!i.classList.contains("alertCloseBtn"))return!0}return!1}},{key:"_initClasses",value:function(){var e=this.element.classList,t=this.config;e.add("alert"),e.remove("alertNotification","alertOverlay","alertSection","alertSitewide");var n={notification:"alertNotification",overlay:"alertOverlay",section:"alertSection",sitewide:"alertSitewide"};n[t.display]&&e.add(n[t.display]);var i={bottomRight:"alertContextualBottom",topRight:"alertContextualTop"};i[t.location]&&e.add(i[t.location]),t.closable?e.add("alertClosable"):e.remove("alertClosable"),t.open?e.remove("alertHidden","alertHiding"):e.add("alertHidden","alertHiding")}},{key:"_initType",value:function(){var e={error:"alertError",info:"alertInfo",success:"alertSuccess"},t=this.config.type;e[t]&&this.element.classList.add(e[t])}},{key:"open",value:function(){var e,t,n,i=this,o=this.element;this.isOpen||("notification"===this.config.display&&(this.savedActiveElement=document.activeElement||document.body),"notification"!==this.config.display||this.config.location||((e=Alert.getNotificationContainer()).insertBefore(o,e.firstChild),document.body.appendChild(e)),o.dispatchEvent(new CustomEvent("alert-opening",{bubbles:!0,cancelable:!0})),this.shouldAnimate?(o.classList.remove("alertHidden"),t=o.offsetHeight,n=o.classList.contains("alertContextualTop"),o.classList.add("alertNoTransition"),n?o.style.marginTop=this.marginTop-t+"px":o.style.marginBottom=this.marginBottom-t+"px",this.timedFunc=setTimeout(function(){i._clearOpeningStyles()},10),this.animateOpen=setTimeout(function(){return i._opened()},this.animateDuration)):(o.classList.remove("alertHidden","alertHiding"),this._opened()))}},{key:"_handleTabsWithinNotification",value:function(e){var t,n,i,o;e.which===u.default.keyCodes.tab&&((t=u.default.getTabbableElements(this.element)).length||this.savedActiveElement.focus(),n=t[0],i=t[t.length-1],o=-1!==t.indexOf(document.activeElement),e.shiftKey&&!o&&(i.focus(),e.preventDefault(),e.stopPropagation()),e.shiftKey&&n===document.activeElement&&(i.focus(),e.preventDefault(),e.stopPropagation()),e.shiftKey||i!==document.activeElement||(n.focus(),e.preventDefault(),e.stopPropagation()))}},{key:"_opened",value:function(){var t=this,e=this.element;"notification"===this.config.display&&(e.focus(),this._events.handleTabsWithinNotification=this.addEventListeners(e,{keydown:function(e){return t._handleTabsWithinNotification(e)}})),0<this.config.duration?(this.durationTimer=u.default.timer(function(){t.requestClose()},this.config.duration),this._events.timer=this.addEventListeners(e,{keyup:function(e){t.durationTimer.stop(),e.keyCode===ui.keyCodes.esc&&t.close()},mouseenter:function(){return t.durationTimer.pause()},mouseleave:function(){return t.durationTimer.play()}})):this._events.escapeNotification=this.addEventListeners(e,{keyup:function(e){e.keyCode===ui.keyCodes.esc&&t.close()}}),this.isOpen=!0;var n=this.config.onOpen;a(Alert.prototype.__proto__||Object.getPrototypeOf(Alert.prototype),"executeCallback",this).call(this,n),e.dispatchEvent(new CustomEvent("alert-opened",{bubbles:!0,cancelable:!0}))}},{key:"_removeNotificationContainer",value:function(){var e=Alert.getNotificationContainer();0===e.children.length&&e.remove()}},{key:"requestClose",value:function(){var e=this.config.onRequestClose;u.default.isValidCallback(e)?e({element:this.element}):this.close()}}]),Alert}();Alert.defaults={animation:!0,closable:!1,destroyOnClose:!1,display:"inline",duration:-1,location:void 0,onClose:void 0,onOpen:void 0,onRequestClose:void 0,open:!0,type:"warning"},Alert.langSets={de:{closeBtn:"Warnung schließen",label:"Warnung"},en:{closeBtn:"Close alert",label:"Alert"},es:{closeBtn:"Cerrar alerta",label:"Alerta"},fr:{closeBtn:"Fermer l’alerte",label:"L’alerte"},it:{closeBtn:"Chiudi avviso",label:"Avviso"},sv:{closeBtn:"Stäng meddelande",label:"Meddelande"}},t.default=l.Base.init()(Alert)},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(22),s=(i=o)&&i.__esModule?i:{default:i};t.default=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,u=function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0},r=n(0),h=(a=r)&&a.__esModule?a:{default:a};n(23);var Autocomplete=function(){function Autocomplete(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Autocomplete);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Autocomplete.__proto__||Object.getPrototypeOf(Autocomplete)).call(this,e));return n.close=function(){var e;n.isOpen&&(e=n.config,u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",n).call(n,e.onClose),n.before.remove(),n.after.remove(),h.default.isValidCallback(e.onOpen)&&(n.before.innerHTML="",n.after.innerHTML=""),n._events.window&&n._events.window.handlers.resize.cancel(),(n.inModal||n.inCallout)&&document.body.appendChild(n.autocomplete),n._clearFocus(),n.removeEventListeners(n._events["autocomplete-scroll-in-sidebar"]),n.removeEventListeners(n._events["autocomplete-scroll-in-window"]),n.removeEventListeners(n._events.window),n.removeEventListeners(n._events.html),n.removeEventListeners(n._events.body),n.removeEventListeners(n._events["container-mouse-events"]),n.container.classList.remove("autocompleteVisible","autocompleteInModal","autocompleteInCallout"),n.resultsList.innerHTML="",n.autocomplete.style.maxHeight="",n.element.setAttribute("aria-expanded","false"),n.element.classList.remove("autocompleteAttached","autocompleteInputInCallout"),n.isOpen=!1,n.element.dispatchEvent(new CustomEvent("autocomplete-closed",{bubbles:!0,cancelable:!0})),n.resultsList.remove(),n.container.remove(),n.autocomplete.remove())},n.config=i({},Autocomplete.defaults,t),n.autocomplete=Autocomplete._getAutocompleteWrapper(),n.cachedData={},n.container=document.createElement("div"),n.element=e,n._events={},n.isOpen=!1,n.needsIosFix=window.navigator.userAgent.match(/iPhone|iPad|iPod/i),n.rawResults={},n.resultsList=document.createElement("ul"),n.staticAjaxResponse=[],n.screenTouches={},n.term="",n.run=h.default.debounce(function(){return n._retrieveResults()},n.config.debounceDelay),n._defineBeforeAfterContent(),n._generateMarkup(),n._addEvents(),n._handleCreateEvents(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Autocomplete,r.Base),o(Autocomplete,null,[{key:"_getAutocompleteWrapper",value:function(){var e=document.getElementById("autocomplete");return e||(e=document.createElement("div")).setAttribute("id","autocomplete"),e}},{key:"validateConfig",value:function(e){var t=r.Base.typeCheck,n={after:[t.string(),t.instanceof(window.Node)],ajaxOverride:t.fn(),alwaysOpenOnFocus:t.boolean(),autocompleteClasses:t.string(),before:[t.string(),t.instanceof(window.Node)],customDisplay:t.fn(),dataType:t.string(["json","jsonp","document","text"]),debounceDelay:t.number(),disableNoResultsMessage:t.boolean(),highlight:[t.boolean(),t.object()],jsonConversion:t.fn(),jsonp:t.string(),matchBeginning:t.boolean(),maxLength:t.number(),maxResults:t.number(),minLength:t.number(),onChange:t.fn(),onClose:t.fn(),onCreate:t.fn(),onError:t.fn(),onFocus:t.fn(),onItemSelect:t.fn(),onOpen:t.fn(),onResponse:t.fn(),onSearch:t.fn(),queryParameter:t.string(),searchKey:t.string(),source:[t.string(),t.object(),t.fn()],timeout:t.number()},i=["searchKey","source"];!e||"document"!==e.dataType&&"text"!==e.dataType||i.push("jsonConversion"),t.execute(Autocomplete.name,{expected:n,required:i,actual:e})}},{key:"close",value:function(){r.Base.runMethodOnActiveInstances("close",Autocomplete.name)}},{key:"reposition",value:function(){r.Base.runMethodOnActiveInstances("reposition",Autocomplete.name)}}]),o(Autocomplete,[{key:"_addBeforeAfterContent",value:function(){var e=this.config;e.before&&this.container.insertAdjacentElement("afterbegin",this.before),e.after&&this.container.insertAdjacentElement("beforeend",this.after)}},{key:"_addEvents",value:function(){var t=this;this._events.container=this.addEventListeners(this.container,{click:function(){return t._handleResultsClick()},keydown:function(e){return t._handleResultsKeydown(e)}}),this._events.element=this.addEventListeners(this.element,{keydown:function(e){return t._handleInputKeydown(e)},focusin:function(){return t._handleInputFocusin()},input:h.default.debounce(function(){return t._handleInput()},this.config.debounceDelay),focusout:function(){return t._cancelRequest()}})}},{key:"_ajaxError",value:function(e,t,n){h.default.warn("Autocomplete Source "+this.config.source+" returned an error"),u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,this.config.onError,{element:this.element,xhr:e,status:t,response:n}),this.close()}},{key:"_ajaxRequest",value:function(){var e,t,n=this,i=this.config,o=-1!==i.source.indexOf("?")?"&":"?",s=i.source+(i.queryParameter?o+i.queryParameter+"="+encodeURIComponent(this.term):"");"jsonp"!==i.dataType?(e=new XMLHttpRequest,t=function(){n._ajaxError(e,e.statusText)},e.open("GET",s,!0),e.onload=function(){200<=e.status&&e.status<400?n._ajaxSuccess(i.dataType.match(/json|document/)?e.response:e.responseText):t()},e.responseType=i.dataType,e.onerror=t,this._cancelRequest(),this.resultsList.classList.add("loading"),i.timeout&&(e.timeout=i.timeout),i.withCredentials&&(e.withCredentials=!0),u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,i.ajaxOverride,{element:this.element,xhr:e}),e.send(),this.xhr=e):this._ajaxRequestWithJsonp(s)}},{key:"_ajaxRequestWithJsonp",value:function(e){var t=this,n=-1!==e.indexOf("?")?"&":"?",i="autocompleteCallback"+h.default.getRandomNumber();window[i]=function(e){t._ajaxSuccess(e),document.getElementById(i).remove()};var o=document.createElement("script");o.src=e+n+this.config.jsonp+"="+i,o.setAttribute("id",i),document.head.appendChild(o)}},{key:"_ajaxSuccess",value:function(e){var t=this.config,n=void 0,n=h.default.isValidCallback(t.jsonConversion)?t.jsonConversion({element:this.element,data:e,config:t}):"string"==typeof e?JSON.parse(e):e;t.queryParameter||(this.staticAjaxResponse=n);var i=this._cacheResults(n);!i.length&&t.disableNoResultsMessage?this.close():(this._open(),this._populate(i))}},{key:"_bindMouseEvents",value:function(){var n=this;this._events["container-mouse-events"]=this.addEventListeners(this.container,{mouseover:function(e){var t=e.target.closest("#"+n.container.id+" .autocompleteResult:not([aria-disabled]):not(.autocompleteNoResults)");null!==t&&(n.focus=n._focusItem(t))},mouseout:function(e){null!==e.target.closest(".autocompleteResult:not([aria-disabled]):not(.autocompleteNoResults)")&&(!e.relatedTarget&&"clear"!==e.detail||n._clearFocus())}})}},{key:"_buildResult",value:function(e,t,n){var i=this,o=this.config,s={term:this.term,value:e[o.searchKey],display:this._getHighlightedValue(this.term,e[o.searchKey]),raw:e};h.default.isValidCallback(o.customDisplay)&&(s=o.customDisplay({element:this.element,data:s}));var a="autocompleteResult";!0===s.checked&&(a+=" autocompleteChecked iconAfter iconAfterCheck");var r=document.createElement("li"),l=n+"Autocomplete"+t;return h.default.setAttributes(r,{class:a,role:"option",id:l}),s.disabled?r.setAttribute("aria-disabled","true"):r.setAttribute("tabindex",0),r.innerHTML='<div class="textWrap">'+s.display+"</div>",this.rawResults[l]={raw:e,value:s.value},s.disabled||r.addEventListener("click",function(e){i._handleResultClick(e)}),r}},{key:"_cacheResults",value:function(e){var t=this,n=[];return this.fullDataset=e||n,this.config.queryParameter&&e?n=e:Array.isArray(e)&&e.forEach(function(e){t._compare(e)&&n.push(e)}),this.cachedData[this.term.toLowerCase()]=n}},{key:"_cancelRequest",value:function(){this.xhr&&4!==this.xhr.readyState&&this.xhr.abort()}},{key:"_clearFocus",value:function(){this.focus&&(this.focus.removeAttribute("aria-selected"),this.focus.classList.remove("autocompleteSelected"),this.focus=!1)}},{key:"_compare",value:function(e){var t=this.config,n=new RegExp(h.default.escapeRegExp(this.term),"gi"),i=e[t.searchKey]?e[t.searchKey].search(n):-1;return t.matchBeginning&&0===i||!t.matchBeginning&&-1!==i}},{key:"_defineBeforeAfterContent",value:function(){var e=document.createElement("div");e.classList.add("autocompleteBefore");var t=document.createElement("div");t.classList.add("autocompleteAfter"),"string"==typeof this.config.before?e.insertAdjacentHTML("beforeend",this.config.before):this.config.before instanceof Node&&e.appendChild(this.config.before),"string"==typeof this.config.after?t.insertAdjacentHTML("beforeend",this.config.after):this.config.after instanceof Node&&t.appendChild(this.config.after),this.before=e,this.after=t}},{key:"destroy",value:function(){this.close(),this.run.cancel(),this.element.classList.remove("autocompleteInput"),this.removeEventListeners(this._events.element),h.default.removeAttributes(this.element,"aria-autocomplete aria-controls aria-expanded aria-owns autocomplete role data-ui-id"),this.container.remove(),u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"destroy",this).call(this)}},{key:"flush",value:function(){this.cachedData={}}},{key:"_focusItem",value:function(e){return this._clearFocus(),e.classList.add("autocompleteSelected"),e.focus(),e.closest("#"+this.id+"Results")&&e.setAttribute("aria-selected","true"),u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,this.config.onFocus,{element:this.element,item:e}),this.element.dispatchEvent(new CustomEvent("autocomplete-item-focused",{bubbles:!0,cancelable:!0})),e}},{key:"_generateMarkup",value:function(){h.default.setAttributes(this.container,{id:this.id+"ResultCon",class:this.config.autocompleteClasses+" autocompleteCon autocompleteVisible"}),h.default.setAttributes(this.resultsList,{id:this.id+"Results",class:"autocompleteResults loading",role:"listbox"}),h.default.setAttributes(this.element,{"aria-autocomplete":"list","aria-controls":this.id+"Results","aria-expanded":"false","aria-owns":this.id+"Results",autocomplete:"off",role:"combobox"}),this.element.classList.add("autocompleteInput"),this.container.appendChild(this.resultsList),this.autocomplete.appendChild(this.container),this._addBeforeAfterContent()}},{key:"_getHighlightedValue",value:function(e,t){var n,i,o,s=this.config,a=t;return s.highlight&&0<e.length&&(n=new RegExp(h.default.escapeRegExp(e),"gi"),a=!0===s.highlight?a.replace(n,function(e){return'<span class="autocompleteHighlighted">'+e+"</span>"}):(i=new RegExp(h.default.escapeRegExp(s.highlight.open),"g"),o=new RegExp(h.default.escapeRegExp(s.highlight.close),"g"),a.replace(i,'<span class="autocompleteHighlighted">').replace(o,"</span>"))),a}},{key:"getRawData",value:function(){return this.raw}},{key:"_handleCreateEvents",value:function(){u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,this.config.onCreate),this.element.dispatchEvent(new CustomEvent("autocomplete-initialized",{bubbles:!0,cancelable:!0}))}},{key:"_handleFocusOrMouseDownOnOtherElement",value:function(e){var t=e.target,n=!!t.closest("#"+this.id+"ResultCon"),i=this.inCallout&&t.matches(".calloutContent"),o=this.inModal&&t.matches(".modalFlex"),s=t===this.element;n||i||s||o||this.close()}},{key:"_handleHtmlTouchendOrClick",value:function(e){var t=e.target,n=t.getAttribute("for"),i=!!n&&document.getElementById("#"+n),o=!!e.changedTouches&&Math.max(Math.abs(this.screenTouches.x-e.changedTouches[0].pageX),Math.abs(this.screenTouches.y-e.changedTouches[0].pageY))<5,s=null!==t.closest("#"+this.id+"ResultCon");t===this.element||s||(!i||i.classList.contains("autocompleteAttached"))&&(i||t.classList.contains("autocompleteAttached"))||"click"!==e.type&&!o||this.close()}},{key:"_handleHtmlTouchstart",value:function(e){this.screenTouches.x=e.touches?e.touches[0].pageX:e.pageX,this.screenTouches.y=e.touches?e.touches[0].pageY:e.pageY}},{key:"_handleInput",value:function(){this.raw&&(this.raw=null),u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,this.config.onChange),this.run()}},{key:"_handleInputFocusin",value:function(){this.isOpen?this._clearFocus():this._retrieveResults()}},{key:"_handleInputKeydown",value:function(e){var t=e.keyCode||e.which;t===h.default.keyCodes.tab||t===h.default.keyCodes.esc?this.close():t!==h.default.keyCodes.up&&t!==h.default.keyCodes.down||(this._navigateListItems(t===h.default.keyCodes.up),e.stopPropagation(),e.preventDefault())}},{key:"_handleResultClick",value:function(e){var t=e.currentTarget;t.getAttribute("aria-disabled")&&(e.stopPropagation(),e.preventDefault()),this._selectItem(t)}},{key:"_handleResultsClick",value:function(){this.inModal&&h.default.modal&&h.default.modal.preventClosing()}},{key:"_handleResultsKeydown",value:function(e){var t=e.keyCode||e.which,n=e.target,i=!!n.closest("#"+this.id+"Results"),o=i&&t===h.default.keyCodes.tab,s=i&&t===h.default.keyCodes.enter,a=o||s,r=s||t===h.default.keyCodes.esc||t===h.default.keyCodes.up||t===h.default.keyCodes.down||t===h.default.keyCodes.leftBracket||t===h.default.keyCodes.rightBracket,l=t===h.default.keyCodes.esc||t===h.default.keyCodes.tab&&!i,u=l||!r&&t!==h.default.keyCodes.enter&&!n.matches("input, textarea"),c=t===h.default.keyCodes.up||t===h.default.keyCodes.leftBracket,d=t===h.default.keyCodes.down||t===h.default.keyCodes.rightBracket;a?this._selectItem(n):u?this.element.focus():c?this._navigateListItems(!0):d?this._navigateListItems():l&&this.close(),r&&(e.preventDefault(),e.stopPropagation())}},{key:"_navigateListItems",value:function(e){var t=h.default.getTabbableElements(this.container),n=t[0],i=t[t.length-1];if(!t.length)return!1;var o,s,a=!1;this.focus?(o=e?n:i,this.focus!==o&&(s=h.default.getElementIndex(this.focus,t),a=t[e?s-1:s+1])):a=e?i:n,a?this.focus=this._focusItem(a):this.element.focus()}},{key:"_open",value:function(){var e,t,n=this;this.inModal=!!this.element.closest("#modal"),this.inCallout=!!this.element.closest(".callout"),this.inSidebar=!!this.element.closest(".sidebar"),this.removeEventListeners(this._events.resultsList),this.resultsList.innerHTML="",this.inCallout||this.reposition(),this.isOpen?this.resultsList.classList.remove("loading","autocompleteHasChecks"):(this._generateMarkup(),document.body.appendChild(this.autocomplete),this.resultsList.classList.remove("loading","autocompleteHasChecks"),e=this.config,h.default.isValidCallback(e.onOpen)&&(e.onOpen({element:this.element,before:this.before,after:this.after}),this.before.matches(":empty")||this.container.insertAdjacentElement("afterbegin",this.before),this.after.matches(":empty")||this.container.insertAdjacentElement("beforeend",this.after)),this.element.classList.add("autocompleteAttached"),this.element.setAttribute("aria-expanded","true"),this.container.classList.add("autocompleteVisible"),this.inCallout?(this.element.classList.add("autocompleteInputInCallout"),this.container.classList.add("autocompleteInCallout"),this.element.parentNode.matches(".labelIconOnly")?h.default.insertAfter(this.autocomplete,this.element.parentNode):h.default.insertAfter(this.autocomplete,this.element)):(this._events.window=this.addEventListeners(window,{resize:h.default.debounce(function(){return n.reposition()},100)}),this.inModal?(this.container.classList.add("autocompleteInModal"),document.querySelector(".modalFlex.open").appendChild(this.autocomplete)):this.inSidebar&&(this._events["autocomplete-scroll-in-window"]=this.addEventListeners(window,{scroll:h.default.throttle(function(){return n.reposition()},16)}),(t=this.element.closest(".sidebarScrollArea"))&&(this._events["autocomplete-scroll-in-sidebar"]=this.addEventListeners(t,{scroll:h.default.throttle(function(){return n.reposition()},16)})))),this._events.html=this.addEventListeners(document.documentElement,{touchstart:function(e){return n._handleHtmlTouchstart(e)},touchend:function(e){return n._handleHtmlTouchendOrClick(e)},click:function(e){return n._handleHtmlTouchendOrClick(e)}}),this._events.body=this.addEventListeners(document.body,{focusin:function(e){return n._handleFocusOrMouseDownOnOtherElement(e)},mousedown:function(e){return n._handleFocusOrMouseDownOnOtherElement(e)}}),this.isOpen=!0,this._bindMouseEvents(),this.element.dispatchEvent(new CustomEvent("autocomplete-opened",{bubbles:!0,cancelable:!0})))}},{key:"_populate",value:function(e){var i,o=this;u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,this.config.onResponse,{element:this.element,results:e}),(this.populatedResults=e).length?(i=this.element.id,e.slice(0,this.config.maxResults).forEach(function(e,t){var n=o._buildResult(e,t,i);o.resultsList.appendChild(n)}),this.resultsList.querySelector(".autocompleteChecked")&&this.resultsList.classList.add("autocompleteHasChecks")):(this.resultsList.innerHTML='<li class="autocompleteResult autocompleteNoResults" role="alert" label="Search Results">'+r.Base.localize(Autocomplete.langSets,"noMatches")+"</li>",this._events.resultsList=this.addEventListeners(this.resultsList,{click:function(e){e.preventDefault(),e.stopPropagation()}}),this.raw=null),this.element.dispatchEvent(new CustomEvent("autocomplete-populated",{bubbles:!0,cancelable:!0}))}},{key:"reposition",value:function(){this.container.style.maxHeight="";var e=this.element.getBoundingClientRect(),t=Number(e.top+window.pageYOffset+this.element.offsetHeight);this.inModal&&(t+=document.getElementById("modalFixed").scrollTop,this.needsIosFix||(t-=window.pageYOffset)),i(this.container.style,{left:e.left+document.body.scrollLeft+"px",top:t+"px",width:this.element.offsetWidth+"px"}),this.element.dispatchEvent(new CustomEvent("autocomplete-repositioned",{bubbles:!0,cancelable:!0}))}},{key:"_retrieveResults",value:function(){var e=this.term;this.term=this.element.value;var t,n,i,o,s,a=this.term===e&&this.isOpen,r=document.activeElement&&document.activeElement.getAttribute("data-ui-id")===this.id;!a&&r&&(t=this.config,n=this.term.length>=t.minLength,i=this.term.length>t.maxLength,n?i||(u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,t.onSearch,{element:this.element,term:this.term}),s=void 0,Array.isArray(this.cachedData[this.term.toLowerCase()])?s=this.cachedData[this.term.toLowerCase()]:"function"==typeof t.source?s=h.default.isValidCallback(t.jsonConversion)?t.jsonConversion({element:this.element,data:t.source({element:this.element,term:this.term}),config:t}):t.source({element:this.element,term:this.term}):"object"===l(t.source)?(o=h.default.isValidCallback(t.jsonConversion)?t.jsonConversion({element:this.element,data:t.source,config:t}):t.source,s=this._cacheResults(o)):"string"==typeof t.source&&(this.staticAjaxResponse&&this.staticAjaxResponse.length?s=this._cacheResults(this.staticAjaxResponse):this._ajaxRequest()),s&&(!s.length&&t.disableNoResultsMessage?this.close():(this._open(),this._populate(s)))):t.alwaysOpenOnFocus&&!this.isOpen?this._open():!t.alwaysOpenOnFocus&&this.isOpen?this.close():this.resultsList.innerHTML="")}},{key:"_selectItem",value:function(e){var t;e&&this.focus&&e[0]===this.focus[0]?(t=this.config,this.element.value=this.rawResults[e.id].value,this.raw=this.rawResults[e.id].raw,u(Autocomplete.prototype.__proto__||Object.getPrototypeOf(Autocomplete.prototype),"executeCallback",this).call(this,t.onItemSelect,{element:this.element,item:this.raw})):this.raw=null,this.element.focus(),this.close()}},{key:"updateSource",value:function(e){this.flush(),this.config.source=e}}]),Autocomplete}();Autocomplete.defaults={after:"",ajaxOverride:void 0,alwaysOpenOnFocus:!1,autocompleteClasses:"",before:"",customDisplay:void 0,dataType:"json",debounceDelay:200,disableNoResultsMessage:!1,highlight:!0,jsonConversion:void 0,jsonp:"callback",matchBeginning:!1,maxLength:100,maxResults:20,minLength:3,onChange:void 0,onClose:void 0,onCreate:void 0,onError:void 0,onFocus:void 0,onItemSelect:void 0,onOpen:void 0,onResponse:void 0,onSearch:void 0,queryParameter:void 0,searchKey:"",source:"",timeout:0,withCredentials:!1},Autocomplete.langSets={de:{noMatches:"Keine Übereinstimmungen gefunden"},en:{noMatches:"No matches found"},es:{noMatches:"No se encontraron concordancias"},fr:{noMatches:"Aucune correspondance trouvée"},it:{noMatches:"Nessuna corrispondenza trovata"},sv:{noMatches:"Inga matchningar hittades"}},t.default=r.Base.init()(Autocomplete)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:a(o,t,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,l=n(0),f=(r=l)&&r.__esModule?r:{default:r};function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n(27);var Callout=function(){function Callout(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Callout);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Callout.__proto__||Object.getPrototypeOf(Callout)).call(this,e));return n.type=n.constructor.name,n.config=Callout._generateConfig(e,t),n.isOpen=!1,n.modalOffset=0,n.receivesFocus="field"!==n.config.type&&"hover"!==n.config.type,n._generateMarkup(),n._populateContentElement(),n._initClasses(),n._addCreateEvents(),n.receivesFocus&&e.setAttribute("aria-expanded",!1),n.config.open&&(n.open(),n.addEventListeners(window,{load:function(){n.reposition()}})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Callout,l.Base),o(Callout,null,[{key:"close",value:function(){l.Base.runMethodOnActiveInstances("requestClose",Callout.name,[],function(e){return e.isOpen&&"guidance"!==e.config.type})}},{key:"_generateConfig",value:function(e,t){var n=i({},Callout.defaults,t);return!e.tagName.match(/input|select|textarea/i)&&"field"!==n.type||(n.hidePointer=!0,n.position="bottom",n.calloutStyle=t.calloutStyle||"dark",n.type="field"),n}},{key:"validateConfig",value:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=l.Base.typeCheck,i={calloutClasses:n.string(),calloutStyle:n.string(["alt","dark","light"]),classes:n.string(),content:[n.string(),n.instanceof(window.Node)],disableAutofocusOnOpen:n.boolean(),hidePointer:n.boolean(),onAfterOpen:n.fn(),onClose:n.fn(),onOpen:n.fn(),onRequestAction:n.fn(),position:n.string(["bottom","left","right","top"]),scrollableElement:n.string(),type:n.string(["click","field","guidance","hover"]),width:[n.string(),n.number()],withinFixedElement:n.boolean()};n.execute(Callout.name,{expected:i,required:["content"],actual:t})}}]),o(Callout,[{key:"_addScrollEvents",value:function(e){var t=this;this.scrollableElement&&(this._events.calloutScrollEvents=this.addEventListeners(this.scrollableElement,{scroll:f.default.throttle(function(){t._inView()?t.reposition():t.requestClose()},16)}),this.openEvents.push("calloutScrollEvents")),!this.config.withinFixedElement&&"fixed"!==e.style.position||(this._events.closeOnScroll=this.addEventListeners(window,{scroll:function(){t.requestClose()}}),this.openEvents.push("closeOnScroll"))}},{key:"_addCreateEvents",value:function(){var e,t,n=this,i=this.config;"field"===i.type?(e={click:function(e){e.stopPropagation()},focus:function(){n.requestOpen()}},"select"===this.element.tagName.toLowerCase()&&(e.mouseenter=function(){return n.requestOpen()}),this._events.create=this.addEventListeners(this.element,e)):"hover"===i.type?(t=f.default.throttle(function(e){n.hovering=!0,n.requestOpen(),"touchstart"===e.type&&e.touches?n.coords={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY}:n.coords={pageX:e.pageX,pageY:e.pageY}},10,{leading:!1,trailing:!0}),this._events.create=this.addEventListeners(this.element,{focus:function(){n.requestOpen()},blur:function(){n.requestClose()},touchstart:t,mouseenter:t,mouseleave:function(e){(e.relatedTarget||e.toElement)&&(n.hovering=!1,n._startCloseTimer())}})):this._events.create=this.addEventListeners(this.element,{click:function(e){n.isOpen?"guidance"!==i.type&&n.requestClose():("a"===n.element.tagName.toLowerCase()&&e.preventDefault(),setTimeout(function(){n.requestOpen()}))}})}},{key:"_addOpenEvents",value:function(){var t=this;this.openEvents=[];var n,e,i=this.config;"field"===i.type&&(this._events.elementBlur=this.addEventListeners(this.element,{blur:function(){t.requestClose&&t.requestClose()}}),this.openEvents.push("elementBlur")),"guidance"!==i.type&&(n={},e=f.default.throttle(function(e){return t._handleHtmlClick(e,n)},10,{leading:!1,trailing:!0}),this._events.htmlTouchEvents=this.addEventListeners(document.documentElement,{click:e,touchend:e,touchstart:function(e){n.x=e.touches?e.touches[0].pageX:e.pageX,n.y=e.touches?e.touches[0].pageY:e.pageY}}),this.openEvents.push("htmlTouchEvents")),"hover"===i.type&&(this._events.calloutMouseOverEvents=this.addEventListeners(this.wrapElement,{mouseenter:function(){t.hovering=!0,t._stopCloseTimer()},mouseleave:function(){t.hovering=!1,t._startCloseTimer()}}),this.openEvents.push("calloutMouseOverEvents")),this._events.contentKeyEvents=this.addEventListeners(this.contentElement,{keydown:function(e){e.which===f.default.keyCodes.tab&&t._handleTabPress(e)}}),this.openEvents.push("contentKeyEvents"),this._events.windowResizeEvents=this.addEventListeners(window,{resize:f.default.throttle(function(){t.isOpen&&(f.default.visible(t.element)?t.reposition():t.requestClose())},50)}),this.openEvents.push("windowResizeEvents"),this.calloutScrollPaneElm=null;var o=document.querySelector(this.config.scrollableElement),s=this.element.closest(".sidebarScrollArea");this.calloutScrollPaneElm=o||s,this.calloutScrollPaneElm?(this.calloutScrollPaneElm.classList.add("calloutScrollPane"),s&&(this.config.withinFixedElement=!0)):this.config.scrollableElement&&!o&&ui.warn('Unable to find scrollable element "'+this.config.scrollableElement+'"'),this.scrollableElement=this.element.closest(".calloutScrollPane");function a(e){e.keyCode!==ui.keyCodes.esc||e.target.closest("input")||(t.requestClose(),e.stopPropagation())}this._events.escapePressedOnButton=this.addEventListeners(this.element,{keydown:a}),this.openEvents.push("escapePressedOnButton"),this.receivesFocus&&"guidance"!==this.config.type&&(this._events.closeButtonClick=this.addEventListeners(this.closeButton,{click:function(){t.requestClose()}}),this.openEvents.push("closeButtonClick"),this._events.escapePressed=this.addEventListeners(this.wrapElement,{keydown:a}),this.openEvents.push("escapePressed"))}},{key:"_applyPosition",value:function(e,t){this._resetPosition(),this._setWidth(),this.modalOffset=this._getModalOffset(),this.wrapElement.classList.add(this._getPositionClass(e));var n,i=this._calculatePosition(e,t);this._convertToTransform(this.wrapElement,i),"field"!==this.config.type&&((n=this._calculateAlignment(e)).wrap&&this._convertToTransform(this.wrapElement,n.wrap),!this.config.hidePointer&&n.pointer&&this._convertToTransform(this.pointerElement,n.pointer)),this.wrapElement.classList.remove("calloutUnpositioned"),this.positioned=!0}},{key:"_calculateAlignment",value:function(e){var t=this._getLocation(),n=this._getLocation(this.wrapElement),i="left"===e||"right"===e;if(i?n.height<t.height:n.width<t.width)return{};var o,s,a,r,l,u,c=this._getLocation(window),d={left:n.left,top:n.top},h={left:0,top:0},f=i?t.height/2:t.width/2,p=Math.max(21,f),v=(i?n.height/2:n.width/2)-p,m=1,g=0;return i?(o=c.scrollTop+c.padding,s=c.scrollTop+c.height-c.padding,n.top<o?g=o-n.top:n.bottom>s&&(m=-1,g=n.bottom-s),a=m*Math.min(g,v),d.top=n.top+a,h.top=-a):(r=c.scrollLeft+c.padding,l=c.scrollLeft+c.width-c.padding-Callout.scrollbarWidth,n.left<r?g=r-n.left:n.right>l&&(m=-1,g=n.right-l),u=m*Math.min(g,v),d.left=n.left+u,h.left=-u),{pointer:h,wrap:d}}},{key:"_calculatePosition",value:function(e){var o=this,s=this._getLocation(),t=this._getLocation(this.wrapElement),n={bottom:function(){return{left:s.center-t.width/2,top:s.bottom}},field:function(){var e=o._getLocation(window),t=Math.max(180,s.width),n=e.width-e.padding-s.left,i=n<t?t-n:0;return{left:s.left-i,"max-width":t,top:s.bottom}},left:function(){return{left:s.left-t.width,top:s.middle-t.height/2}},right:function(){return{left:s.right,top:s.middle-t.height/2}},top:function(){return{left:s.center-t.width/2,top:s.top-t.height}}},i=e;return"field"===this.config.type&&(i="field"),n[i]()}},{key:"close",value:function(){if(this.isOpen){var e,t=this.config;a(Callout.prototype.__proto__||Object.getPrototypeOf(Callout.prototype),"executeCallback",this).call(this,t.onClose),this._isFocusWithinCallout()&&this.element.focus(),this.calloutScrollPaneElm&&this.calloutScrollPaneElm.classList&&this.calloutScrollPaneElm.classList.remove("calloutScrollPane"),this.wrapElement.remove(),this.wrapElement.classList.remove("open","willTransform"),this.pointerElement.classList.remove("willTransform"),this.alreadyHadActiveClass||this.element.classList.remove("active"),this.receivesFocus?(this.element.setAttribute("aria-expanded",!1),this.element.removeAttribute("aria-controls")):(e=(e=this.element.getAttribute("aria-describedby")||"").replace(this.contentElement.id,""),this.element.setAttribute("aria-describedby",e.trim())),this.hovering=!1;for(var n=this.openEvents,i=0,o=n.length;i<o;i++)this.removeEventListeners(this._events[""+n[i]]);this.isOpen=!1,this.coords=void 0,this.element.dispatchEvent(new CustomEvent("callout-closed",{bubbles:!0,cancelable:!0}))}}},{key:"_convertToTransform",value:function(t,n){var e="translate("+(("number"==typeof n.left?Math.round(n.left)+"px":n.left)||"0px")+", "+(("number"==typeof n.top?Math.round(n.top)+"px":n.top)||"0px")+")";t.style["-webkit-transform"]=e,t.style.transform=e,Object.keys(n).forEach(function(e){"left"!==e&&"top"!==e&&(t.style[e]=n[e])})}},{key:"_createCloseButton",value:function(){var e=document.createElement("div");return e.classList.add("hideVisually"),e.innerHTML='<button tabindex="-1" type="button">'+l.Base.localize(Callout.langSets,"close")+"</button></div>",e}},{key:"_createContentElement",value:function(){var e=document.createElement("div");return e.classList.add("calloutContent"),e.setAttribute("tabindex",-1),e.setAttribute("id","calloutContent-"+this.id),this.receivesFocus?(e.setAttribute("role","region"),e.setAttribute("aria-label",l.Base.localize(Callout.langSets,"label"))):e.setAttribute("role","tooltip"),e}},{key:"_createPointerElement",value:function(){var e=document.createElement("div");return e.classList.add("calloutPointer"),e.innerHTML='<div class="calloutPointerShadow"></div>',e}},{key:"_createWrapElement",value:function(){var e=document.createElement("div");return e.id="calloutWrap-"+this.id,e.classList.add("callout"),e}},{key:"destroy",value:function(){this.close(),this.wrapElement.remove(),this.element.classList.remove("calloutTrigger","guidanceTrigger"),this.element.removeAttribute("aria-expanded"),this.element.removeAttribute("data-calloutInstance"),a(Callout.prototype.__proto__||Object.getPrototypeOf(Callout.prototype),"destroy",this).call(this)}},{key:"_generateMarkup",value:function(){this.wrapElement=this._createWrapElement(),this.contentElement=this._createContentElement(),this.wrapElement.insertAdjacentElement("beforeend",this.contentElement),this.pointerElement=this._createPointerElement(),this.wrapElement.insertAdjacentElement("beforeend",this.pointerElement),this.receivesFocus&&"guidance"!==this.config.type&&(this.closeButton=this._createCloseButton(),this.wrapElement.insertAdjacentElement("afterbegin",this.closeButton))}},{key:"_getBestPosition",value:function(e){return"field"===this.config.type||this._hasSpace(e)?e:"bottom"}},{key:"_getLocation",value:function(e){var t,n,i,o=0<arguments.length&&void 0!==e?e:this.element,s=this.modalOffset,a=o===window,r={height:a?o.innerHeight:o.offsetHeight,scrollLeft:a?window.pageXOffset:o.scrollLeft,scrollTop:a?window.pageYOffset-s:o.scrollTop-s,width:a?o.innerWidth:o.offsetWidth};return a?r.padding=Callout.windowPadding:(t=o.getBoundingClientRect(),n=this.inModal&&"guidance"!==this.config.type?0:window.pageYOffset,i=window.pageXOffset,r.left=t.left+i,r.top=t.top+n-s,r.bottom=r.top+r.height,r.center=r.left+r.width/2,r.middle=r.top+r.height/2,r.right=r.left+r.width),r}},{key:"_getModalOffset",value:function(){var e,t=0;return this.inModal&&(t=(e=document.getElementById("modalFixed")).offsetTop-e.scrollTop),t}},{key:"_getPositionClass",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.config.position;return"calloutPosition"+t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}},{key:"_handleAutoFocus",value:function(e){var t,n,i=this;"guidance"!==this.config.type&&this.receivesFocus&&!this._isFocusWithinCallout()&&!0!==this.config.disableAutofocusOnOpen?(n=(t=this.inModal?document.getElementById("modalFixed"):window).scrollTop,t.scrollTop!==n&&(this.inModal?t.scrollTo(n):(document.body.scrollTo(n),document.documentElement.scrollTo(n))),setTimeout(function(){i.contentElement&&(i.contentElement.focus(),e())})):e()}},{key:"_handleHtmlClick",value:function(e,t){var n,i,o,s,a=e.target,r=!!a.closest(".autocompleteResult"),l=!!a.closest(".callout"),u=this._isInTrigger(a,this.element);l||r||u?u&&this.allowHoverClose&&this.requestClose():"click"===e.type?this.requestClose():(n=e.changedTouches?e.changedTouches[0].pageX:e.pageX,i=e.changedTouches?e.changedTouches[0].pageY:e.pageY,o=Math.abs(t.x-n),s=Math.abs(t.y-i),"field"!==this.config.type&&Math.max(o,s)<5&&this.requestClose())}},{key:"_handleFixedCalloutOverlow",value:function(e){var t,n,i,o,s,a,r,l;this.calloutScrollPaneElm&&this.wrapElement.classList.contains("calloutPositionBottom")&&(t=this.wrapElement.scrollHeight,i=(n=e.getBoundingClientRect()).y,o=n.height,(s=window.innerHeight-(i+o))<t&&(a=t-s+20,this.calloutScrollPaneElm.scrollTop+=Math.min(a,i),r=e.getBoundingClientRect(),(l=window.innerHeight-(r.y+r.height+20))<t&&(this.contentElement.style.height=l+"px")))}},{key:"_handleTabPress",value:function(e){var t=document.activeElement,n=t.getAttribute("name"),i="radio"===t.getAttribute("type"),o=t===this.contentElement,s=f.default.getTabbableElements(this.contentElement),a=0===s.length,r=s[0],l=s[s.length-1],u=t===r||i&&n===r.getAttribute("name"),c=t===l||i&&n===l.getAttribute("name"),d=e.shiftKey&&(o||u),h=!e.shiftKey&&c;(a||d||h)&&("guidance"===this.config.type?e.preventDefault():(this.element.focus(),this.requestClose(),d&&e.preventDefault()))}},{key:"_hasSpace",value:function(e){var t=this._getPositionClass(e);this.wrapElement.classList.add(t);var n=this._getLocation(),i=this._getLocation(this.wrapElement),o=this._getLocation(window),s={bottom:function(){return o.height+o.scrollTop-o.padding-n.bottom>i.height},left:function(){var e=o.padding+o.scrollLeft;return n.left-e>i.width},right:function(){return o.padding+o.scrollLeft+o.width-Callout.scrollbarWidth-n.right>i.width},top:function(){var e=o.padding+o.scrollTop;return n.top-e>i.height}};return this.wrapElement.classList.remove(t),s[e]()}},{key:"_initClasses",value:function(){var e,t,n,i,o=this.config;this.element.classList.add("calloutTrigger"),"dark"===o.calloutStyle?this.wrapElement.classList.add("bgDark","calloutStyleDark"):"alt"===o.calloutStyle&&this.wrapElement.classList.add("calloutStyleAlt"),o.classes&&o.classes.trim()&&(t=o.classes.trim().split(" "),(e=this.contentElement.classList).add.apply(e,u(t))),o.calloutClasses&&o.calloutClasses.trim()&&(i=o.calloutClasses.trim().split(" "),(n=this.wrapElement.classList).add.apply(n,u(i))),o.hidePointer&&this.wrapElement.classList.add("calloutHidePointer"),"guidance"===o.type&&(this.wrapElement.classList.add("guidance"),this.element.classList.add("guidanceTrigger"))}},{key:"_inView",value:function(){var e=this._getLocation(),t=this._getLocation(this.scrollableElement),n=e.middle<t.top,i=e.middle>t.bottom,o=e.center<t.left,s=e.center>t.right;return!(n||i||o||s)}},{key:"_isFocusWithinCallout",value:function(){return!!(document.activeElement instanceof Element&&document.activeElement.closest("#calloutWrap-"+this.id))}},{key:"_isInTrigger",value:function(e,t){for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}},{key:"open",value:function(){var e,t,n=this;this.isOpen||(e=this.config,this.inModal=!!this.element.closest("#modal"),this.inModal&&"guidance"===e.type&&!e.spotlight?(this.element.closest(".modalContents").classList.add("calloutScrollPane"),document.querySelector(".modalFlex.open").insertAdjacentElement("beforeend",this.wrapElement)):this.inModal&&"guidance"!==e.type?document.querySelector(".modalFlex.open").insertAdjacentElement("beforeend",this.wrapElement):(document.body.appendChild(this.wrapElement),this.wrapElement.classList.add("willTransform")),"guidance"!==e.type&&Callout.close(!1),"hover"===e.type&&(this.allowHoverClose=!1,this.allowHoverCloseTimeout=setTimeout(function(){n.allowHoverClose=!0},400)),e.hidePointer||this.pointerElement.classList.add("willTransform"),this.receivesFocus?(this.element.setAttribute("aria-expanded",!0),this.element.setAttribute("aria-controls","calloutWrap-"+this.id)):(t=(t=this.element.getAttribute("aria-describedby"))?" "+t:"",this.element.setAttribute("aria-describedby",this.contentElement.id+t)),this._addOpenEvents(),a(Callout.prototype.__proto__||Object.getPrototypeOf(Callout.prototype),"executeCallback",this).call(this,e.onOpen),this.wrapElement.classList.add("open","calloutUnpositioned"),this.positioned=!1,this.contentElement.removeAttribute("style"),this.alreadyHadActiveClass=this.element.classList.contains("active"),this.element.classList.add("active"),this.reposition(),this.isOpen=!0,this.wrapElement.classList.add("calloutFocusing"),this._handleAutoFocus(function(){n._handleFixedCalloutOverlow(n.element),n._addScrollEvents(n.element),n.wrapElement.classList.remove("calloutFocusing"),n.element.dispatchEvent(new CustomEvent("callout-opened",{bubbles:!0,cancelable:!0})),a(Callout.prototype.__proto__||Object.getPrototypeOf(Callout.prototype),"executeCallback",n).call(n,e.onAfterOpen)}))}},{key:"_populateContentElement",value:function(){var t=this.config.content;if("string"==typeof t)if("<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&2<t.length)this.contentElement.innerHTML=t;else try{var e=document.querySelector(t);this.contentElement.insertAdjacentElement("beforeend",e)}catch(e){this.contentElement.innerHTML="<div>"+t+"</div>"}else t instanceof window.Node&&this.contentElement.insertAdjacentElement("beforeend",t)}},{key:"reposition",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.config.position,n=this._getBestPosition(t);this._applyPosition(n)}},{key:"requestClose",value:function(){var e=this.config.onRequestAction;f.default.isValidCallback(e)?e({element:this.element,action:"close"}):this.close()}},{key:"requestOpen",value:function(){var e=this.config.onRequestAction;f.default.isValidCallback(e)?e({element:this.element,action:"open"}):this.open()}},{key:"_resetPosition",value:function(){this.wrapElement.classList.remove("calloutPositionBottom","calloutPositionLeft","calloutPositionRight","calloutPositionTop"),this.pointerElement.removeAttribute("style"),this.wrapElement.removeAttribute("style")}},{key:"_setWidth",value:function(){var e=parseInt(window.getComputedStyle(this.wrapElement)["max-width"],10),t=document.body,n=document.documentElement,i=Math.max(t.scrollWidth,t.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth)-2*Callout.windowPadding;i<e&&(this.wrapElement.style.maxWidth=i+"px"),this.config.width&&(this.wrapElement.style.width=parseInt(this.config.width,10)+"px")}},{key:"_startCloseTimer",value:function(){var e=this;this.closeTimeout=setTimeout(function(){!e.hovering&&e.isOpen&&e.requestClose()},Callout.hideDelay)}},{key:"_stopCloseTimer",value:function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)}},{key:"updateContent",value:function(e){this.config.content=e,this._populateContentElement(),this.isOpen&&this.reposition()}},{key:"updateWidth",value:function(e){this.config.width=e,this.isOpen&&this.reposition()}}]),Callout}();Callout.defaults={calloutClasses:"",calloutStyle:"light",classes:"",content:"",disableAutofocusOnOpen:!1,hidePointer:!1,onAfterOpen:void 0,onClose:void 0,onOpen:void 0,onRequestAction:void 0,open:!1,position:"bottom",scrollableElement:void 0,type:"click",width:"",withinFixedElement:!1},Callout.hideDelay=100,Callout.langSets={de:{close:"Popup schließen",label:"Popup"},en:{close:"Close popup region",label:"Popup"},es:{close:"Cerrar elemento emergente",label:"Elemento emergente"},fr:{close:"Fermer la fenêtre contextuelle",label:"Fenêtre contextuelle"},it:{close:"Chiudi popup",label:"Popup"},sv:{close:"Stäng popup-fönster",label:"Popup-fönster"}},Callout.windowPadding=5,Callout.scrollbarWidthFunction=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.insertAdjacentElement("beforeend",e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.insertAdjacentElement("beforeend",n);var i=n.offsetWidth;return e.remove(),t-i},Callout.scrollbarWidth=(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?Callout.scrollbarWidthFunction():(document.addEventListener("DOMContentLoaded",function(){Callout.scrollbarWidth=Callout.scrollbarWidthFunction()}),0),t.default=l.Base.init()(Callout)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function i(e){e.keyCode===ui.keyCodes.tab&&(o.classList.remove("mouseEvents"),o.addEventListener("mousedown",s),o.removeEventListener("keydown",i))}var o=document.documentElement,s=function e(){o.classList.add("mouseEvents"),o.addEventListener("keydown",i),o.removeEventListener("mousedown",e)};o.addEventListener("mousedown",s)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1)),o=s(n(34));function s(e){return e&&e.__esModule?e:{default:e}}n(35),t.default=i.default.init()(o.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:a(o,t,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r=u(n(2)),l=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}var Modal=function(){function Modal(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Modal);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Modal.__proto__||Object.getPrototypeOf(Modal)).call(this,e));return n.config=i({},Modal.defaults,t),n.element.classList.add("modal"),n.iOSFix=null!==window.navigator.userAgent.match(/iPhone|iPad|iPod/i),n.isOpen=!1,n.trigger=n.config.trigger?l.default.getElements(n.config.trigger)[0]:null,n._initModal(),n.config.open&&n.open(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Modal,l.default),o(Modal,null,[{key:"close",value:function(){l.default.runMethodOnActiveInstances("requestClose",Modal.name)}},{key:"getFixed",value:function(){return Modal.fixed||((Modal.fixed=document.createElement("div")).classList.add("modalFixed"),Modal.fixed.setAttribute("id","modalFixed"),Modal.getOverlay().appendChild(Modal.fixed)),Modal.fixed}},{key:"getOverlay",value:function(){return Modal.overlay||((Modal.overlay=document.createElement("div")).id="modal"),Modal.overlay}},{key:"isOpen",value:function(){return l.default.hasOpenInstance(Modal.name)}},{key:"preventClose",value:function(e){l.default.runMethodOnActiveInstances("preventClose",Modal.name,e)}},{key:"resize",value:function(e){l.default.runMethodOnActiveInstances("resize",Modal.name,e)}},{key:"scrollTop",value:function(e){var t=0<arguments.length&&void 0!==e?e:0;Modal.getFixed().scrollTop=t}},{key:"_showBackground",value:function(){var e,t=window.outerWidth;document.documentElement.classList.add("modalOpen"),e=window.outerWidth-t;var n=parseInt(document.body.style.paddingRight,10)+e;document.body.style.paddingRight=n+"px";var i=Modal.getOverlay();document.body.appendChild(i)}},{key:"showLoading",value:function(e){l.default.runMethodOnActiveInstances("showLoading",Modal.name,e)}},{key:"validateConfig",value:function(e){var t=l.default.typeCheck,n={closeOnBkgClick:t.boolean(),destroyOnClose:t.boolean(),hideCloseBtn:t.boolean(),onClose:t.fn(),onOpen:t.fn(),onRequestClose:t.fn(),open:t.boolean(),showLoading:t.boolean(),trigger:[t.string(),t.instanceof(window.HTMLElement),t.instanceof(window.HTMLCollection),t.instanceof(window.NodeList)],useCustomPadding:t.boolean(),width:[t.number(),t.string()]};t.execute(Modal.name,{expected:n,required:[],actual:e})}}]),o(Modal,[{key:"_addOverlayEvents",value:function(){var n=this;this.config.hideCloseBtn||(this._events["modal-overlay-events"]=this.addEventListeners(Modal.getOverlay(),{keydown:function(e){var t=e.target.tagName.toLowerCase();e.which===r.default.keyCodes.esc&&"input"!==t&&"textarea"!==t&&(n.requestClose(),e.preventDefault(),e.stopPropagation())}}))}},{key:"close",value:function(){var e,t,n;this.isOpen&&(this.id===Modal.activeInstanceID&&(this._hideBackground(),Modal.activeInstanceID=void 0),this._hideContent(),this._removeOverlayEvents(),this.isOpen=!1,t=(e=this.config).onClose,n=e.destroyOnClose,a(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"executeCallback",this).call(this,t,{element:this.element,content:this.content}),a(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"dispatchEvent",this).call(this,"modal-closed",{},document.body),n&&this.destroy())}},{key:"destroy",value:function(){this.close(),a(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"destroy",this).call(this)}},{key:"_handleTabWithinModal",value:function(e){var t,n,i,o;e.which===r.default.keyCodes.tab&&((t=r.default.getTabbableElements(this.content)).length||(e.preventDefault(),e.stopPropagation()),n=t[0],i=t[t.length-1],o=-1!==t.indexOf(document.activeElement),e.shiftKey&&!o&&(i.focus(),e.preventDefault(),e.stopPropagation()),e.shiftKey&&n===document.activeElement&&(i.focus(),e.preventDefault(),e.stopPropagation()),e.shiftKey||i!==document.activeElement||(n.focus(),e.preventDefault(),e.stopPropagation()))}},{key:"_hideBackground",value:function(){var e=document.documentElement,t=document.body;e.classList.remove("modalOpen","iOSFix"),t.style.paddingRight="",this.windowPosition&&(e.scrollTop=this.windowPosition,t.scrollTop=this.windowPosition);var n=Modal.getOverlay();this.trigger&&this.trigger.focus(),n.remove()}},{key:"_hideContent",value:function(){this.showLoading(!1),this.element.classList.remove("active"),this.flex.classList.remove("open"),this.flex.remove()}},{key:"_initCloseBtn",value:function(){var e=this,t=document.createElement("button");return t.classList.add("closeBtn","modalClose"),this.config.bgDarkClose&&t.classList.add("bgDark"),t.setAttribute("aria-label",l.default.localize(Modal.langSets,"closeBtn")),t.setAttribute("type","button"),this._events.button=this.addEventListeners(t,{click:function(){return e.requestClose()}}),t}},{key:"_initModal",value:function(){this.flex=this._initModalFlex(),this.content=this._initModalContent();var e=this.config,t=e.hideCloseBtn,n=e.width;t||(this.closeBtn=this._initCloseBtn(),this.content.appendChild(this.closeBtn)),this.flex.appendChild(this.content),n!==Modal.defaults.width&&this.resize(n)}},{key:"_initModalContent",value:function(){var e=this,t=document.createElement("div");t.classList.add("modalContents"),t.setAttribute("id","modalContent-"+this.id),t.appendChild(this.element);var n=this.config,i=n.useCustomPadding,o=n.hideCloseBtn;return i&&t.classList.add("modalCustomPadding"),o&&t.classList.add("modalHideClose"),this._events.content=this.addEventListeners(t,{mousedown:function(){e._preventBgClickClose=!0},mouseup:function(){e._preventBgClickClose=!0}}),t}},{key:"_initModalFlex",value:function(){var t=this,e=document.createElement("section");return r.default.setAttributes(e,{"aria-label":l.default.localize(Modal.langSets,"modalDialog"),"aria-modal":"true",class:"modalFlex",id:"modal-"+this.id,role:"dialog",tabindex:-1}),this._events.flex=this.addEventListeners(e,{keydown:function(e){return t._handleTabWithinModal(e)}}),this.config.closeOnBkgClick&&(this._events.modal=this.addEventListeners(e,{click:function(e){t.preventBgClickClose||t._preventBgClickClose||!e.target.classList.contains("modalFlex")||t.requestClose(),t._preventBgClickClose=!1}})),e}},{key:"open",value:function(){var e,t,n=this;this.isOpen||(a(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"dispatchEvent",this).call(this,"modal-opening"),this.trigger||(this.trigger=document.activeElement,this.trigger&&this.trigger.nodeName||(this.trigger=document.body)),this._preventBgClickClose=!0,this._setIOSFix(),e=Modal.activeInstanceID,Modal.activeInstanceID=this.id,e?l.default.instances.Modal[e].requestClose():Modal._showBackground(),this._addOverlayEvents(),this._showContent(),this.isOpen=!0,t=this.config.onOpen,a(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"executeCallback",this).call(this,t,{element:this.element,content:this.content}),a(Modal.prototype.__proto__||Object.getPrototypeOf(Modal.prototype),"dispatchEvent",this).call(this,"modal-opened"),setTimeout(function(){n._preventBgClickClose=!1},Modal.doubleClickBuffer))}},{key:"preventClose",value:function(e){var t=!(0<arguments.length&&void 0!==e)||e;this.preventBgClickClose=t}},{key:"_removeOverlayEvents",value:function(){this.removeEventListeners(this._events["modal-overlay-events"])}},{key:"requestClose",value:function(){var e=this.config.onRequestClose;r.default.isValidCallback(e)?e({element:this.element}):this.close()}},{key:"resize",value:function(e){if(!e)return r.default.error("Modal.resize: Enter a valid pixel/percentage value");var t,n,i,o;e!==this.width&&("number"!=typeof(o=e)&&!o.match(/\d+(\.\d+)?(px$|$)/)||(t=window.getComputedStyle(this.content),n=parseInt(t.paddingLeft,10)||0,i=parseInt(t.paddingRight,10)||0,o=parseFloat(o,10)+n+i+"px"),this.content.style.width=o,this.width=o)}},{key:"_setIOSFix",value:function(){this.iOSFix&&(this.windowPosition=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,document.documentElement.classList.add("iOSFix"))}},{key:"_showContent",value:function(){var e,t=Modal.getFixed(),n=this.config,i=n.pinToTop,o=n.showLoading;t.appendChild(this.flex),this.element.classList.add("active"),this.showLoading(o),this.iOSFix&&(document.documentElement.scrollTop=0,document.body.scrollTop=0);var s=["open"];i&&s.push("modalPinned"),(e=this.flex.classList).add.apply(e,s),this.flex.focus(),t.scrollTop=0}},{key:"showLoading",value:function(e){e?this.content.classList.add("loading"):this.content.classList.remove("loading")}}]),Modal}();Modal.defaults={bgDarkClose:!1,closeOnBkgClick:!0,destroyOnClose:!1,hideCloseBtn:!1,onClose:void 0,onOpen:void 0,onRequestClose:void 0,open:!1,pinToTop:!1,showLoading:!1,trigger:void 0,useCustomPadding:!1,width:""},Modal.doubleClickBuffer=300,Modal.langSets={de:{closeBtn:"Schließen Modaler",modalDialog:"Modaler"},en:{closeBtn:"Close Modal",modalDialog:"Modal"},es:{closeBtn:"Cerrar modal",modalDialog:"modal"},fr:{closeBtn:"Fermer Modale",modalDialog:"Modale"},it:{closeBtn:"Chiudi Modale",modalDialog:"Modale"},sv:{closeBtn:"Stäng Modal",modalDialog:"Modal"}},t.default=Modal,e.exports=Modal},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(n(1)),o=s(n(40));function s(e){return e&&e.__esModule?e:{default:e}}n(43),t.default=i.default.init({elementRequired:!1})(o.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e};function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=u(n(1)),r=u(n(41)),l=u(n(42));function u(e){return e&&e.__esModule?e:{default:e}}var Tabs=function(){function Tabs(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tabs);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Tabs.__proto__||Object.getPrototypeOf(Tabs)).call(this,e));return n.config=i({},Tabs.defaults,t),n.createContent(n.config.content),n.createNav(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Tabs,a.default),o(Tabs,null,[{key:"validateConfig",value:function(e){var t=a.default.typeCheck,n={activeIndex:t.number(),allowUrls:t.boolean(),content:[t.string(),t.instanceof(HTMLElement)],onOpen:t.fn(),onRequestTab:t.fn(),overrideOverflow:t.boolean()};t.execute(Tabs.name,{expected:n,actual:e})}}]),o(Tabs,[{key:"createContent",value:function(e){var t=a.default.getElements(e)[0];t&&this._setContent(new l.default(t,this.config.activeIndex))}},{key:"createNav",value:function(e){var t=a.default.getElements(e)[0];t&&this._setNav(new r.default(t,this.config))}},{key:"destroy",value:function(){this.nav&&this.nav.destroy(),this.content&&this.content.destroy(),function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0}(Tabs.prototype.__proto__||Object.getPrototypeOf(Tabs.prototype),"destroy",this).call(this)}},{key:"notifyContentOfOpen",value:function(e){this.content&&this.content.activeIndex!==e&&this.content.open(e)}},{key:"open",value:function(e){this.nav&&this.nav.activeIndex!==e&&this.nav.open(e)}},{key:"_register",value:function(){this.nav&&this.content&&(this.nav.registerContent(this.content),this.content.registerNav(this.nav))}},{key:"resize",value:function(){this.nav&&this.nav.resize()}},{key:"_setContent",value:function(e){this.content=e,this._register()}},{key:"_setNav",value:function(e){this.nav=e,this.nav.setMediator(this),this._register()}}]),Tabs}();Tabs.defaults={activeIndex:0,allowUrls:!1,content:void 0,onOpen:void 0,onRequestTab:void 0,overrideOverflow:!1},t.default=Tabs},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:a(o,t,n)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(n):void 0}var s=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,r(n(1)).default),i(u,[{key:"_addEvents",value:function(){var t=this;this._events.windowResizeEvent=this.addEventListeners(window,{resize:s.default.debounce(function(){return t.resize()},250)}),this._events.tabEvent=this.addEventListeners(this.element,{click:function(e){return t._handleTabClick(e)},keydown:function(e){return t._handleTabKeydown(e)}})}},{key:"_addOverflow",value:function(){this._createOverflowElements(),this._bindOverflowEvents(),this._measureWidths(),this._centerTab()}},{key:"_animateHorizontalScroll",value:function(e){var t=Math.ceil(.75*this.navWidth),n=this.element.scrollLeft,i="left"===e?n-t:n+t;s.default.smoothScroll(this.element,i,500,"scrollLeft")}},{key:"_applyAriaControls",value:function(e){for(var t=e.length,n=0;n<t;++n)this.navItems[n].setAttribute("aria-controls",e[n])}},{key:"_bindOverflowEvents",value:function(){var e=this;this._events.scrollEvent=this.addEventListeners(this.element,{scroll:s.default.debounce(function(){return e._handleOverflowScroll()},100)}),this._events.leftButtonClickEvent=this.addEventListeners(this.overflowLeftButton,{click:s.default.debounce(function(){return e._animateHorizontalScroll("left")},250,!0)}),this._events.rightButtonClickEvent=this.addEventListeners(this.overflowRightButton,{click:s.default.debounce(function(){return e._animateHorizontalScroll("right")},250,!0)}),this.overflowBound=!0}},{key:"_centerTab",value:function(){var e,t;this.isOverflow&&(t=(e=this.navItems[this.activeIndex]).offsetLeft+e.offsetWidth/2-this.navWidth/2,this.element.scrollTo?this.element.scrollTo({behavior:"smooth",left:t}):this.element.scrollLeft=t)}},{key:"_checkOverflow",value:function(){this.isOverflow=this._getOverflowState(),this.isOverflow?(this.overflowBound||this._addOverflow(),this._handleOverflowScroll()):this.overflowBound&&this._removeOverflow()}},{key:"_createOverflowElements",value:function(){var e=this.isVertical?" hasVerticalTabs":"";this.overflowElement=document.createElement("div"),this.overflowElement.className="tabsScrollable"+e,this.overflowLeftButton=document.createElement("button"),s.default.setAttributes(this.overflowLeftButton,{"aria-hidden":"true",class:"icon iconArrowLeft tabsOverflowBtn",tabindex:"-1",type:"button"}),this.overflowRightButton=document.createElement("button"),s.default.setAttributes(this.overflowRightButton,{"aria-hidden":"true",class:"icon iconArrowRight tabsOverflowBtn",tabindex:"-1",type:"button"});var t=document.createDocumentFragment();t.appendChild(this.overflowLeftButton),t.appendChild(this.overflowElement),t.appendChild(this.overflowRightButton),this.element.parentNode.insertBefore(t,this.element),this.overflowElement.appendChild(this.element)}},{key:"destroy",value:function(){this._removeOverflow(),this._removeAriaRoles(),this.navItems[this.activeIndex].classList.remove("active"),a(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"destroy",this).call(this)}},{key:"_getActiveIndex",value:function(){if(this.activeIndex)return this.activeIndex;if(window.location.hash){var e=this.element.querySelector('.tab[href="'+window.location.hash+'"]');if(e)return this._getTabIndex(e)}var t=this.element.querySelector(".active");return t?this._getTabIndex(t):this.config.activeIndex}},{key:"_getNavItemsWidth",value:function(){return this.navItems.reduce(function(e,t){var n=window.getComputedStyle(t);return e+t.offsetWidth+parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)},0)}},{key:"_getNavWidth",value:function(){var e=this.element.offsetWidth,t=window.getComputedStyle(this.element),n=parseInt(t.paddingLeft,10),i=parseInt(t.paddingRight,10);return Math.max(0,e-(n+i))}},{key:"_getOverflowState",value:function(){return!(this.isVertical||!(this.element.offsetWidth||this.element.offsetHeight||this.element.getClientRects().length)||this.config.overrideOverflow)&&this.navItemsWidth>this.navWidth}},{key:"_getTabIndex",value:function(e){for(var t=this.navItems.length,n=0;n<t;++n)if(e===this.navItems[n])return n;return this.config.activeIndex}},{key:"_handleOverflowScroll",value:function(){var e;this.overflowElement&&((e=this.element.scrollLeft)<this.navItemsWidth-this.navWidth-5?(this.overflowElement.classList.add("tabsOverflowRight"),this.overflowRightButton.classList.add("tabsOverflowBtnVisible")):(this.overflowElement.classList.remove("tabsOverflowRight"),this.overflowRightButton.classList.remove("tabsOverflowBtnVisible")),5<e?(this.overflowElement.classList.add("tabsOverflowLeft"),this.overflowLeftButton.classList.add("tabsOverflowBtnVisible")):(this.overflowElement.classList.remove("tabsOverflowLeft"),this.overflowLeftButton.classList.remove("tabsOverflowBtnVisible")))}},{key:"_handleTabClick",value:function(e){if(!e.target||null!==e.target.closest(".tab")){var t=e.target.closest(".tab"),n=this._getTabIndex(t);if(n===this.activeIndex)return e.preventDefault(),void e.stopPropagation();var i=this.config.allowUrls,o=t.getAttribute("href"),s=o&&0!==o.indexOf("#")&&0!==o.indexOf("javascript");if(!i&&s)return window.location=o,e.preventDefault(),void e.stopPropagation();this.requestTab(n),i&&(e.preventDefault(),e.stopPropagation())}}},{key:"_handleTabKeydown",value:function(e){var t,n,i,o=e.target;null!==o&&(t=this.navItems.filter(function(e){return!e.classList.contains("disabled")}),n=e.which,i=t.indexOf(o),n===s.default.keyCodes.left?0<=i-1&&t[i-1].focus():n===s.default.keyCodes.right&&i+1<t.length&&t[i+1].focus())}},{key:"_init",value:function(){this.element.setAttribute("role","tablist");for(var e=this.navItems.length,t=0;t<e;++t){var n=this.navItems[t];this._setInactiveAttributes(n),s.default.setAttributes(n,{id:n.getAttribute("id")||"tab-"+this.id+"-"+t,role:"tab"})}this._addEvents(),this.config.overrideOverflow||void 0!==this.isOverflow||(this.overflowBound=!1,this._measureWidths(),this._checkOverflow())}},{key:"_isVertical",value:function(){var e=window.matchMedia("(min-width: 768px)").matches,t=window.matchMedia("(min-width: 480px)").matches,n=this.element.classList,i=!n.contains("tabs480")&&!n.contains("tabs320"),o=n.contains("tabs480")&&e,s=n.contains("tabs320")&&t;return n.contains("tabsVertical")&&(i||o||s)}},{key:"_measureWidths",value:function(){this.navItemsWidth=this._getNavItemsWidth(),this.navWidth=this._getNavWidth()}},{key:"open",value:function(e){if(isNaN(e)||e<0||e>=this.navItems.length)throw new RangeError("index must be a number between 0 and "+(this.panels.length-1));var t,n=this.navItems[e];e===this.activeIndex?this._setActiveAttributes(n):(t=this.navItems[this.activeIndex],this._setInactiveAttributes(t),this._setActiveAttributes(n),this.activeIndex=e),this._centerTab(),this.mediator&&this.mediator.notifyContentOfOpen&&this.mediator.notifyContentOfOpen(this.activeIndex),a(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"executeCallback",this).call(this,this.config.onOpen,{index:e,element:this.element})}},{key:"registerContent",value:function(e){this._applyAriaControls(e.panels.map(function(e){return e.getAttribute("id")}))}},{key:"_removeAriaRoles",value:function(){this.element.removeAttribute("role");for(var e=this.navItems.length,t=0;t<e;++t)s.default.removeAttributes(this.navItems[t],"role aria-controls aria-selected aria-expanded")}},{key:"_removeOverflow",value:function(){if(this.overflowElement&&this.overflowElement.classList.contains("tabsScrollable")){for(var e=this.element.parentNode;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.remove(),this.overflowLeftButton.remove(),this.overflowRightButton.remove(),delete this.overflowElement,delete this.overflowLeftButton,delete this.overflowRightButton,this._measureWidths()}this.overflowBound=!1}},{key:"requestTab",value:function(e){var t=this.config.onRequestTab;t&&s.default.isValidCallback(t)?(t({index:e,element:this.element}),this.initialRequestTab&&(this.initialRequestTab=!1,this.open(e))):this.open(e)}},{key:"resize",value:function(){this.isVertical=this._isVertical(),this._measureWidths(),this._checkOverflow()}},{key:"_setActiveAttributes",value:function(e){e.classList.add("active"),e.setAttribute("aria-selected","true"),e.setAttribute("aria-expanded","true")}},{key:"_setInactiveAttributes",value:function(e){e.classList.remove("active"),e.setAttribute("aria-selected","false"),e.setAttribute("aria-expanded","false")}},{key:"setMediator",value:function(e){this.mediator=e}}]),u);function u(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return n.config=t,n.navItems=Array.from(e.children),n.isVertical=n._isVertical(),n.activeIndex=n._getActiveIndex(),n._init(),n.initialRequestTab=!0,n.requestTab(n.activeIndex),n}t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=r(n(1)),a=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,s.default),i(u,[{key:"_applyAriaLabelledBy",value:function(e){for(var t=e.length,n=0;n<t;++n)this.panels[n].setAttribute("aria-labelledby",e[n])}},{key:"destroy",value:function(){this._removeAriaRoles(),this.panels[this.activeIndex].classList.remove("active"),function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0}(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"destroy",this).call(this)}},{key:"_init",value:function(){var e=this.panels.length;if(0===e)throw new RangeError("Tabs requires at least 1 tab and a matching number of content elements");for(var t=0;t<e;++t){var n=this.panels[t];this._setInactiveAttributes(n),a.default.setAttributes(n,{id:n.getAttribute("id")||"tab-content-"+this.id+"-"+t,role:"tabpanel",tabindex:-1})}}},{key:"open",value:function(e){if(isNaN(e)||e<0||e>=this.panels.length)throw new RangeError("index must be a number between 0 and "+(this.panels.length-1));var t=this.panels[this.activeIndex],n=this.panels[e];this._setInactiveAttributes(t),this._setActiveAttributes(n),this.activeIndex=e}},{key:"registerNav",value:function(e){this._applyAriaLabelledBy(e.navItems.map(function(e){return e.getAttribute("id")}))}},{key:"_removeAriaRoles",value:function(){for(var e=this.panels.length,t=0;t<e;++t)a.default.removeAttributes(this.panels[t],"role aria-labelledby aria-hidden tabindex")}},{key:"_setActiveAttributes",value:function(e){e.classList.add("active"),e.setAttribute("aria-hidden","false")}},{key:"_setInactiveAttributes",value:function(e){e.classList.remove("active"),e.setAttribute("aria-hidden","true")}}]),u);function u(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return n.panels=Array.from(e.children),n.activeIndex=t,n._init(),n.open(n.activeIndex),n}t.default=l},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(48),s=(i=o)&&i.__esModule?i:{default:i};t.default=s.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var l=n(0),y=s(l),m=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(6);var Validator=function(){function Validator(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Validator);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Validator.__proto__||Object.getPrototypeOf(Validator)).call(this,e));return n.config=g({},Validator.defaults,t),n.fields={},n.allowSubmit=!0,n.submitButton=n.config.submitButton||e.querySelector('[type="submit"]'),n.addFields(n.config.fields,!1),n._addEvents(),n.element.setAttribute("novalidate","novalidate"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Validator,l.Base),i(Validator,null,[{key:"email",value:function(e){if("string"!=typeof e)return!1;if(!(e=e.trim()).length||e.indexOf("@")<1)return!1;var t=e.split("@");if(2!==t.length)return!1;var n=t[0],i=t[1].split("."),o=i.length,s=i[o-1],a=i.slice(0,o-1).join("."),r=/^(?:(?:[\0-\x08\x0E-\x1F!#-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){0,63}[0-9A-Z\u017F\u212A](?:[\0-\x08\x0E-\x1F!#-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){0,63}|"(?:[\0-!#-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){1,997}")$/i.test(n)&&n.length<65,l=/^(?:[A-Z\u017F\u212A]{2,997}|XN\x2D\x2D[0-9A-Z\u017F\u212A]{1,997})$/i.test(s),u=/^(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFE][\uDC00-\uDFFF]|\uDBFF\uDC00|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,16777216}$/i.test(a);return r&&l&&u}},{key:"extensions",value:function(e,t){for(var n="string"==typeof e?[e]:e,i=t.map(function(e){return e.toLowerCase()}),o=0,s=n.length;o<s;o++)if(-1===i.indexOf(n[o].toLowerCase().split(".").pop()))return!1;return!0}},{key:"match",value:function(e,t){return e===(document.getElementById(t)||{}).value}},{key:"maxLength",value:function(e,t){return e.length<=t}},{key:"minLength",value:function(e,t){return e.length>=t}},{key:"number",value:function(e){return/^[0-9]*(\.[0-9]+)?$/.test(e)}},{key:"password",value:function(n,e){var i=!0,o=!1;return Validator.passPolicy&&Validator.passPolicy.Rules&&(Validator.passPolicy.Rules.forEach(function(e){var t;e.Regex?(t=new RegExp(e.Regex),i=i&&t.test(n)):o=!0}),i?o&&(i=e.isPasswordValidFromServer,e.debouncePasswordCheck&&e.debouncePasswordCheck()):e.isPasswordValidFromServer=!1),i}},{key:"tel",value:function(e){return/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(e)}},{key:"url",value:function(e){return/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i.test(e)}},{key:"uncachePasswordRules",value:function(){Validator.passPolicy=null}},{key:"validateConfig",value:function(e){var t=l.Base.typeCheck,n={allowMultipleSubmissions:t.boolean(),fields:t.object(),onSubmit:t.fn(),submitButton:t.instanceof(window.HTMLElement)};t.execute(Validator.name,{expected:n,actual:e})}},{key:"validateOnServer",value:function(e,t,n){var i=new XMLHttpRequest;i.open("POST","https://gateway.ancestry.com/passwordpolicy/web/v1.0/validate?client=YzU1MjlmMTQzNDg0OTQyMzM1YzUzNDk2MWVhNjQ4ZWViNDM1M2ZhNys3OGRkMTRmZTJlNDFlYjMzZDNkZTVlMmQ3NGM2OTRmY2Q2NjFjODA0MWIyZDdlZTdiZjA3Zjk3NjRjYzAxOTRl",!0),i.setRequestHeader("Accept-Language",Validator.langHeader),i.setRequestHeader("Content-Type","application/json; charset=UTF-8"),i.onload=function(){var e;200<=i.status&&i.status<400?(e=JSON.parse(i.responseText),t.isPasswordValidFromServer=!!e.IsValid):t.isPasswordValidFromServer=!0,n(t.isPasswordValidFromServer)},i.send(JSON.stringify({Password:e,PolicyId:"acom"}))}}]),i(Validator,[{key:"_addEvents",value:function(){var t=this;this._events.validation=this.addEventListeners(this.element,{"validation-remove":function(e){t.config&&t._destroyField(e.target.id)},submit:function(e){return t._handleSubmit(e)},validation:function(e){if(!t.fields[e.target.id])return!1;t._validateInput(e.target.id,e)}})}},{key:"addField",value:function(e,t,n){var i=!(2<arguments.length&&void 0!==n)||n,o=this.element.querySelector("#"+e);o?(i&&(this.fields[e]&&this._destroyField(e),this.fields[e]=t),"input"===o.tagName.toLowerCase()&&"file"===o.type&&0===document.querySelectorAll("label[for="+e+"].fileBtn").length&&this._prettifyFileInputs(e,o),this._initField(e,t)):ui.warn("Unable to find element '#"+e+"' for validator")}},{key:"addFields",value:function(t,n){var i=this;Object.keys(t).forEach(function(e){i.addField(e,t[e],n)})}},{key:"_createOrUpdatePasswordCallout",value:function(s){var a,e,r=this;this.passwordRules&&this.openCallout&&this.openCallout.contentElement&&this.openCallout.contentElement.classList.contains("passwordValidationMenu")?(this.passwordRulesList.setAttribute("role","alert"),this.openCallout.contentElement.appendChild(this.passwordRulesList),Validator.passPolicy.Rules.forEach(function(e,t){var n,i,o;!e.Regex||(n=new RegExp(e.Regex).test(s.value))!==(i=r.passwordRules[t]).classList.contains("calloutMenuChecked")&&(i.classList.toggle("calloutMenuChecked"),i.classList.toggle("iconAfter"),i.classList.toggle("iconAfterCheck"),i.classList.toggle("calloutMenuUnchecked"),o=l.Base.localize(Validator.langSets,n?"policyMet":"policyNotMet")+": ",i.querySelector(".hideVisually").innerHTML=o)})):(this.passwordRules=[],(a=document.createElement("div")).id="password-rules-"+y.default.getRandomNumber(),a.classList.add("calloutMenu"),Validator.passPolicy.Rules.forEach(function(e){var t,n,i,o;e.Regex?(t=new RegExp(e.Regex).test(s.value),n=l.Base.localize(Validator.langSets,t?"policyMet":"policyNotMet")+": ",(i=document.createElement("div")).classList.add("calloutMenuItem"),t?i.classList.add("calloutMenuChecked","iconAfter","iconAfterCheck"):i.classList.add("calloutMenuUnchecked"),i.insertAdjacentHTML("beforeend",'<span class="hideVisually">'+n+"</span>"+e.FailureCode_locale.LocaleString+'<span class="hideVisually"> - </span>'),r.passwordRules.push(i),a.insertAdjacentElement("beforeend",i)):((o=document.createElement("div")).classList.add("calloutMenuUnchecked","calloutMenuItem"),o.insertAdjacentHTML("beforeend",'<span class="hideVisually">'+l.Base.localize(Validator.langSets,"policyNotMet")+"</span>"+e.FailureCode_locale.LocaleString+'<span class="hideVisually"> - </span>'),r.passwordRules.push(o),a.insertAdjacentElement("beforeend",o))}),e={content:this.passwordRulesList=a,classes:"errorCallout passwordValidationMenu",calloutStyle:"light"},window.matchMedia("(max-width: 479px)").matches&&(e.width=s.clientWidth),this.openCallout=(0,m.default)(s,e),this.openCallout.open())}},{key:"destroy",value:function(){clearTimeout(this.submitTime),clearTimeout(this.multiSubmitTime),clearTimeout(this.setAriaAttrTime),function e(t,n,i){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,i)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(i):void 0}(Validator.prototype.__proto__||Object.getPrototypeOf(Validator.prototype),"destroy",this).call(this)}},{key:"_destroyField",value:function(e){this._removeErrorAndSuccess(e);var t=this.fields[e],n=t.field;t.collection?t.collection.forEach(function(e){e.removeAttribute("aria-describedby")}):n.removeAttribute("aria-describedby"),this.fields[e]=null,delete this.fields[e]}},{key:"_getPasswordRules",value:function(){var e,t;Validator.passPolicy||(e=new XMLHttpRequest,t=this.element.closest("[lang]"),Validator.langHeader=t?t.getAttribute("lang"):"en",e.open("GET","https://gateway.ancestry.com/passwordpolicy/web/v1.0/policies/acom?client=YzU1MjlmMTQzNDg0OTQyMzM1YzUzNDk2MWVhNjQ4ZWViNDM1M2ZhNys3OGRkMTRmZTJlNDFlYjMzZDNkZTVlMmQ3NGM2OTRmY2Q2NjFjODA0MWIyZDdlZTdiZjA3Zjk3NjRjYzAxOTRl",!0),e.setRequestHeader("Accept-Language",Validator.langHeader),e.onload=function(){200<=e.status&&e.status<400&&(Validator.passPolicy=JSON.parse(e.responseText))},e.send())}},{key:"_handleCustomPattern",value:function(e,t,n){var i=this.fields[e];if(!t)return i._errorMessage=n||i.errorMessage,this._updateValidationMessage(e,t),t;this._updateValidationMessage(e,t)}},{key:"_handleSubmit",value:function(e){var t=this;if(this._validateForm().success&&this.allowSubmit)return this.allowSubmit=!1,this.submitTime=setTimeout(function(){t.submitButton.setAttribute("disabled","disabled"),t.submitButton.classList.add("disabled")}),this.config.allowMultipleSubmissions&&(this.multiSubmitTime=setTimeout(function(){t.allowSubmit=!0,t.submitButton.removeAttribute("disabled"),t.submitButton.classList.remove("disabled")},1e3)),!0;e.preventDefault(),e.stopPropagation()}},{key:"_initField",value:function(t,e){var n=this,i=this.element.querySelector("#"+t);if(i){var o,s=this.element.querySelector('label[for="'+t+'"]');s||(s=(o=i.closest("fieldset"))?o.querySelector("legend"):i);var a=g({},e),r="password"===(this.fields[t]=a).pattern;if(r&&(this._getPasswordRules(),a.errorLocation="callout",a.when="input",this._events["focus-"+t]=this.addEventListeners(i,{focus:function(){n._validateInput(t)}}),this._events["blur-"+t]=this.addEventListeners(i,{blur:function(){n.openCallout&&n.openCallout.destroy&&n.openCallout.destroy()}})),i.matches("legend")?(s=i,i=a.collection,a.when="submit"!==a.when?"blur change":"submit"):i.matches('[type="checkbox"]')?(a.collection=i,a.when="submit"!==a.when?"blur change":"submit"):i.matches('[type="file"]')?a.when=a.when||"change":a.when||(a.when="blur"),a.required)if(i.length&&"SELECT"!==i.nodeName)for(var l=0,u=i.length;l<u;l++)i[l].setAttribute("required",!0);else i.setAttribute("required",!0);if("submit"!==a.when)for(var c=a.when.split(" "),d=0,h=c.length;d<h;d++){var f=c[d];if(i.length&&"SELECT"!==i.nodeName)for(var p=0,v=i.length;p<v;p++){var m=i[p].id;this._events[f+"-"+m]=this.addEventListeners(i[p],b({},f,function(e){n._validateInput(t,e)}))}else r&&(this.debouncePasswordCheck=y.default.debounce(function(){Validator.validateOnServer(i.value,n,function(e){return n._updateValidationMessage(t,e)})},600)),this._events[f+"-"+t]=this.addEventListeners(i,b({},f,function(e){n._validateInput(t,e)}))}a._errorMessage=a.errorMessage||s.getAttribute("data-error"),a.field=i,(a.label=s).getAttribute("data-error-index")?this._updateValidationMessage(t,!1):i.value&&!(i.matches('[type="checkbox"]')||i.matches('[type="radio"]')||i.matches('[type="submit"]'))&&this._updateValidationMessage(t,!!this._isValid(t))}}},{key:"_isValid",value:function(n,e){var i=this,t=this.fields[n],o=t.field,s="";if("checkbox"===(s=o.length?o[0].getAttribute("type"):o.getAttribute("type"))||"radio"===s)return this._validateCollection(t.collection,t.required);var a=(o.value||"").trim();if("file"===s){for(var r=o.files,l=[],u=0,c=r.length;u<c;u++)l.push(r[u].name);a=l}if(y.default.isValidCallback(t.pattern)){return t.pattern({value:a,callback:function(e,t){return i._handleCustomPattern(n,e,t)},config:t,event:e||{type:"validation"},field:o,element:this.element})}if(t.required||a.length){if(!a.length||t.extensions&&!Validator.extensions(a,t.extensions)||t.match&&!Validator.match(a,t.match)||t.minLength&&!Validator.minLength(a,t.minLength)||t.maxLength&&!Validator.maxLength(a,t.maxLength))return"password"===t.pattern&&(this.isPasswordValidFromServer=!1),!1;if(t.pattern)return Validator[t.pattern](a,this)}return!0}},{key:"_prependProtocol",value:function(e){var t=this.fields[e].field,n=t.value;n&&-1===n.indexOf("://")&&(t.value="https://"+n)}},{key:"_prettifyFileInputs",value:function(e,o){var t=l.Base.localize(Validator.langSets,o.hasAttribute("multiple")?"chooseFiles":"chooseFile"),n="";this.element.classList.contains("formLarge")?n="lrg":this.element.classList.contains("formLargest")&&(n="lrgr"),o.insertAdjacentHTML("afterend",'<div><label aria-hidden="true" class="ancBtn fileBtn silver '+n+'" for="'+e+'">'+t+'</label><span class="filename"></span></div>'),o.addEventListener("change",function(){for(var e=o.files,t=[],n=0,i=e.length;n<i;n++)t.push(e[n].name);o.nextSibling.nextSibling.innerHTML=t.join(", ")})}},{key:"_removeErrorAndSuccess",value:function(e){var t,n=this.fields[e],i=n.field;if(n.label.classList.remove("error","success","inform"),i.length)for(var o=0,s=i.length;o<s;o++){var a=i[o];a.classList.remove("error","success","inform"),a.removeAttribute("aria-invalid"),a.removeAttribute("aria-describedby")}else i.classList.remove("error","success","inform"),i.removeAttribute("aria-invalid"),i.removeAttribute("aria-describedby");n.errorMessageElement&&(n.errorMessageElement.remove(),n.errorMessageElement=null),n.hasErrorCallout&&((t=ui.callout.getInstance(i.getAttribute("data-ui-id")))&&t.destroy&&"password"!==n.pattern&&t.destroy(),n.hasErrorCallout=!1)}},{key:"removeFields",value:function(e){for(var t="string"==typeof e?[e]:e,n=0,i=t.length;n<i;n++)this._destroyField(t[n])}},{key:"_setAriaDescribedBy",value:function(t,n){this.setAriaAttrTime=setTimeout(function(){var e=(e=t.getAttribute("aria-describedby"))?" "+e:"";t.setAttribute("aria-describedby",n+e)},50)}},{key:"updateValidationMessage",value:function(e,t,n){this.fields[e]._errorMessage=n,this._updateValidationMessage(e,t)}},{key:"_updateValidationMessage",value:function(e,t){var n=this.fields[e],i=n.label,o=n.field;if(this._removeErrorAndSuccess(e),!0===t)n.collection||o.classList.add("success"),"password"===n.pattern&&this.openCallout&&0!==Object.keys(this.openCallout).length&&this.openCallout.destroy(),i.classList.add("success");else if(!1===t||"info"===t){var s=i.getAttribute("id");s||(s="label-"+y.default.getRandomNumber(),i.setAttribute("id",s));var a="info"===t?"inform":"error",r=s+"ErrorMessage";if("callout"!==n.errorLocation)if(n.collection)for(var l=0,u=n.collection.length;l<u;l++){var c=n.collection[l];this._setAriaDescribedBy(c,r)}else this._setAriaDescribedBy(o,r);o.length||(o.classList.add(a),o.setAttribute("aria-invalid",!0)),i.classList.add(a);var d,h,f=n._errorMessage||"",p=void 0,v=void 0;"callout"===n.errorLocation?n.collection||((d="password"===n.pattern)&&Validator.passPolicy&&Validator.passPolicy.Rules?document.activeElement!==o||this.isPasswordValidFromServer||(n.hasErrorCallout=!0,this._createOrUpdatePasswordCallout(o)):(h=ui.callout.getInstance(o.getAttribute("data-ui-id")),!n.hasErrorCallout&&h&&h.destroy&&h.destroy(),n.hasErrorCallout=!0,(!h||h&&0===Object.keys(h).length)&&(h=(0,m.default)(o,{content:f,type:"field",classes:"errorCallout "+(d?"passwordValidationMenu":""),calloutStyle:d?"light":"dark"})),o===document.activeElement&&h.open())):"below"===n.errorLocation?(v='<div class="errorMessage icon iconWarning" id="'+r+'" tabindex="-1">'+f+"</div>",i.parentNode.insertAdjacentHTML("beforeend",v),p=i.parentNode.lastChild):-1===i.innerText.indexOf(f)&&(v='<span class="errorMessage icon iconWarning">'+f+"</span>",i.insertAdjacentHTML("beforeend",v),p=i.lastChild),n.errorMessageElement=p}}},{key:"_validateCollection",value:function(e,t){var n=0;if(e.length)for(var i=0,o=e.length;i<o;i++)e[i].checked&&(n+=1);else e.checked&&(n+=1);return Number(t)<=n}},{key:"_validateForm",value:function(){var e,t,n,s=this,a=!1,r=!1,l={success:!0,errorFieldLabels:[]},u=this.fields,c=null,d=this.element.querySelectorAll("input, select, legend, textarea");return Object.keys(u).forEach(function(n){var e=u[n],i=e.field,o=e.label;if(0===i.length)return u[n]=null,void delete u[n];var t=s._validateInput(n);t&&"info"!==t||(d.forEach(function(e,t){e.id===n&&(null===c||t<c)&&(c=t,a=o,r=i)}),l.success=!1)}),!l.success&&a&&(e=a.getBoundingClientRect(),t=window.pageYOffset||document.documentElement.scrollTop,(n=e.top+t)<document.documentElement.scrollTop&&(document.documentElement.scrollTop=n),r.length?r[0].focus():r.focus()),y.default.isValidCallback(this.config.onSubmit)&&(l.success=!!this.config.onSubmit({element:this.element,valid:l.success,fields:this.element.elements})),l}},{key:"_validateInput",value:function(e,t){if(this.fields[e]){"url"===this.fields[e].pattern&&this._prependProtocol(e);var n=this._isValid(e,t);return"info"===n||"boolean"==typeof n?this._updateValidationMessage(e,n):this._removeErrorAndSuccess(e),n}ui.warn("Unable to find field '#"+e+"' for validator")}}]),Validator}();Validator.defaults={allowMultipleSubmissions:!1,fields:{},onSubmit:void 0,submitButton:void 0},Validator.langSets={de:{chooseFile:"Datei auswählen",chooseFiles:"Wähle Dateien",errorMsg:"Es liegen Feldfehler vor:",policyMet:"Richtlinie eingehalten:",policyNotMet:"Richtlinie nicht eingehalten:"},en:{chooseFile:"Choose file",chooseFiles:"Choose files",errorMsg:"There are errors on these fields:",policyMet:"Policy met:",policyNotMet:"Policy not met:"},es:{chooseFile:"Selecciona un archivo",chooseFiles:"Seleccionar archivos",errorMsg:"Hay campos con errores:",policyMet:"Se cumple la política:",policyNotMet:"No se cumple la política:"},fr:{chooseFile:"Choisir le fichier",chooseFiles:"Choisir les fichiers",errorMsg:"Il y a d’erreurs dans ces champs:",policyMet:"Exigences satisfaites :",policyNotMet:"Exigences non satisfaites :"},it:{chooseFile:"Scegli file",chooseFiles:"Scegli file",errorMsg:"Ci sono errori in questi campi:",policyMet:"Normativa soddisfatta:",policyNotMet:"Normativa non soddisfatta:"},sv:{chooseFile:"Välj fil",chooseFiles:"Välja filer",errorMsg:"Det uppstod fel för dessa fält:",policyMet:"Policy uppfylls:",policyNotMet:"Policy uppfylls inte:"}},t.default=l.Base.init()(Validator)}],o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=7).default;function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,i});