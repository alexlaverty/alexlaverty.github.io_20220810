!function(){"use strict";function e(){function e(n){function t(e){window.hintsEval.init({elementId:"hintsEvalSidebar",treeId:window.PersonCard.treeId,personId:window.PersonCard.personId,eventType:e}),o=e}function d(){t(s||o),document.addEventListener("person-website.glue-reloaded",function(n){window.hintsEval&&window.hintsEval.refreshPerson&&window.hintsEval.refreshPerson(),"Due to a BBOG dismissal."===n.detail&&document.addEventListener("person-view-facts.loaded",function n(t){e(),t.currentTarget.removeEventListener(t.type,n)})}),window.hintsEvalSidebarComponent.open(),i=!1}var r=n||document.querySelector('[id*="bbogCTA"]');if(i||r){var a=r&&r.getAttribute("id")||"",s=i?o:a.replace("bbogCTA","");if(window.hintsEvalSidebarComponent)window.hintsEvalSidebarComponent.isOpen?o!==s?t(s):window.hintsEvalSidebarComponent.close():(o!==s&&t(s),window.hintsEvalSidebarComponent.open());else{document.querySelector(".sidebarWrapper").insertAdjacentHTML("beforeend",'<div id="HintsEvalComponent"><aside class="sidebar sidebarHintsEval noDisplay" id="hintsEvalSidebar" tabIndex="-1"></aside></div>'),window.hintsEvalSidebarComponent=window.ui.sidebar("#hintsEvalSidebar",{open:i,trigger:r||document.body,dockable:!0,expandable:!0});var l=window.document.getElementsByTagName("script")[0],w=window.document.createElement("script");if(w.setAttribute("src",window.PersonCard.URL.hintsEvalUIContentUrl),l.parentNode.insertBefore(w,l),window.hintsEval)d();else var u=0,c=window.setInterval(function(){window.hintsEval?(window.clearInterval(c),d()):(u+=1)>40&&clearInterval(c)},100)}}}function n(){if(window.PersonCard.URL.hintsCountUrl){var e=new XMLHttpRequest;e.open("GET",window.PersonCard.URL.hintsCountUrl,!0),e.onload=function(){if(e.status>=200&&e.status<400){var n=JSON.parse(e.responseText);n.error?console.warn("Hints Count Returned Error: ",n.error):(window.updateHintCount(n.PendingHintCount?n.PendingHintCount:n),window.glue.reload())}else console.warn("Hints Count Failed Status: ",e.status)},e.onerror=function(e){console.warn("Hints Counts Failed Request: ",e)},e.timeout=2e3,e.send()}header&&header.updateUserData("hints")}function t(){window.glue.reload(function(){window.getPersonCard(),window.glue.reloaded})}var o="",i=window.showHintsSideBar;i&&e(),document.getElementById("personTabsContent").addEventListener("click",function(n){var t=n.target.closest('[id*="bbogCTA"]');t&&"BUTTON"===t.tagName&&e(t)}),document.body.addEventListener("hints-eval.hint-updated",n),document.body.addEventListener("hints-eval.person-updated",t)}(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?e():document.addEventListener("DOMContentLoaded",e)}();
//# sourceMappingURL=hints-evaluation-flow-e3c79bd5.min.js.map